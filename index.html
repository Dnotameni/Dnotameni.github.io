

<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="å¥½çš„é‡å˜å¼•èµ·è´¨å˜">
<meta property="og:type" content="website">
<meta property="og:title" content="DnoBlog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="DnoBlog">
<meta property="og:description" content="å¥½çš„é‡å˜å¼•èµ·è´¨å˜">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DnoBlog">
<meta name="twitter:description" content="å¥½çš„é‡å˜å¼•èµ·è´¨å˜">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>DnoBlog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DnoBlog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">å­¦ä¼šæ€è€ƒ</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/06/å¤šå­¦ä¹  å¤šå‡†å¤‡ æŠ“ä½æœºä¼š/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¨å°”èŒ¨å ¡çš„æ ‘æ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DnoBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/06/å¤šå­¦ä¹  å¤šå‡†å¤‡ æŠ“ä½æœºä¼š/" itemprop="url">å¤šå­¦ä¹  å¤šå‡†å¤‡ æŠ“ä½æœºä¼š</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-12-06T14:13:00+08:00">
                2018-12-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç”Ÿæ´»ç‚¸é¸¡ğŸ¥/" itemprop="url" rel="index">
                    <span itemprop="name">ç”Ÿæ´»ç‚¸é¸¡ğŸ¥</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  38
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è¿‘æœŸç›®æ ‡ï¼š</p>
<ul>
<li>å¯»æ‰¾å®ä¹  ï¼ˆä¸èŒè§„ç›¸ç¬¦ï¼‰</li>
<li>å­¦ä¹ <ul>
<li>æ•°æ®åˆ†æï¼špythonå·¥å…· | ç»Ÿè®¡åˆ†æçŸ¥è¯† | æœºå™¨å­¦ä¹ </li>
<li>é£é™©æ¨¡å‹ï¼š</li>
</ul>
</li>
<li>è®ºæ–‡</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/05/é¡¹ç›®3.comprehensive-data-exploration-with-python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¨å°”èŒ¨å ¡çš„æ ‘æ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DnoBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/05/é¡¹ç›®3.comprehensive-data-exploration-with-python/" itemprop="url">é¡¹ç›®å­¦ä¹ 3.Kaggleåˆ©ç”¨pythonå¯¹æ•°æ®çš„æ¢ç´¢æ€§ç†è§£</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-12-05T13:52:00+08:00">
                2018-12-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æ•°æ®åˆ†æ/" itemprop="url" rel="index">
                    <span itemprop="name">æ•°æ®åˆ†æ</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  5,535
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  24
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://www.kaggle.com/pmarcelino/comprehensive-data-exploration-with-python" target="_blank" rel="noopener">https://www.kaggle.com/pmarcelino/comprehensive-data-exploration-with-python</a></p>
<ol>
<li>Understand the problem#. Weâ€™ll look at each variable and do a philosophical analysis about their meaning and importance for this problem.<br>äº†è§£é—®é¢˜</li>
<li>Univariable study#. Weâ€™ll just focus on the dependent variable (â€˜SalePriceâ€™) and try to know a little bit more about it.<br>å•å˜é‡åˆ†æ</li>
<li>Multivariate study#. Weâ€™ll try to understand how the dependent variable and independent variables relate.<br>å¤šå˜é‡åˆ†æ</li>
<li>Basic cleaning#. Weâ€™ll clean the dataset and handle the missing data, outliers and categorical variables.<br>åŸºæœ¬æ¸…æ´—</li>
<li>Test assumptions#. Weâ€™ll check if our data meets the assumptions required by most multivariate techniques.<br>å‡è®¾æ£€éªŒ</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¯¼å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> norm</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> stats</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">df_train = pd.read_csv(<span class="string">r'C:\C\Python\all\House Prices Advanced Regression Techniques\train.csv'</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹æ•°æ®å¤§è‡´æƒ…å†µ</span></span><br><span class="line">df_train.columns</span><br></pre></td></tr></table></figure>
<pre><code>Index([&apos;Id&apos;, &apos;MSSubClass&apos;, &apos;MSZoning&apos;, &apos;LotFrontage&apos;, &apos;LotArea&apos;, &apos;Street&apos;,
       &apos;Alley&apos;, &apos;LotShape&apos;, &apos;LandContour&apos;, &apos;Utilities&apos;, &apos;LotConfig&apos;,
       &apos;LandSlope&apos;, &apos;Neighborhood&apos;, &apos;Condition1&apos;, &apos;Condition2&apos;, &apos;BldgType&apos;,
       &apos;HouseStyle&apos;, &apos;OverallQual&apos;, &apos;OverallCond&apos;, &apos;YearBuilt&apos;, &apos;YearRemodAdd&apos;,
       &apos;RoofStyle&apos;, &apos;RoofMatl&apos;, &apos;Exterior1st&apos;, &apos;Exterior2nd&apos;, &apos;MasVnrType&apos;,
       &apos;MasVnrArea&apos;, &apos;ExterQual&apos;, &apos;ExterCond&apos;, &apos;Foundation&apos;, &apos;BsmtQual&apos;,
       &apos;BsmtCond&apos;, &apos;BsmtExposure&apos;, &apos;BsmtFinType1&apos;, &apos;BsmtFinSF1&apos;,
       &apos;BsmtFinType2&apos;, &apos;BsmtFinSF2&apos;, &apos;BsmtUnfSF&apos;, &apos;TotalBsmtSF&apos;, &apos;Heating&apos;,
       &apos;HeatingQC&apos;, &apos;CentralAir&apos;, &apos;Electrical&apos;, &apos;1stFlrSF&apos;, &apos;2ndFlrSF&apos;,
       &apos;LowQualFinSF&apos;, &apos;GrLivArea&apos;, &apos;BsmtFullBath&apos;, &apos;BsmtHalfBath&apos;, &apos;FullBath&apos;,
       &apos;HalfBath&apos;, &apos;BedroomAbvGr&apos;, &apos;KitchenAbvGr&apos;, &apos;KitchenQual&apos;,
       &apos;TotRmsAbvGrd&apos;, &apos;Functional&apos;, &apos;Fireplaces&apos;, &apos;FireplaceQu&apos;, &apos;GarageType&apos;,
       &apos;GarageYrBlt&apos;, &apos;GarageFinish&apos;, &apos;GarageCars&apos;, &apos;GarageArea&apos;, &apos;GarageQual&apos;,
       &apos;GarageCond&apos;, &apos;PavedDrive&apos;, &apos;WoodDeckSF&apos;, &apos;OpenPorchSF&apos;,
       &apos;EnclosedPorch&apos;, &apos;3SsnPorch&apos;, &apos;ScreenPorch&apos;, &apos;PoolArea&apos;, &apos;PoolQC&apos;,
       &apos;Fence&apos;, &apos;MiscFeature&apos;, &apos;MiscVal&apos;, &apos;MoSold&apos;, &apos;YrSold&apos;, &apos;SaleType&apos;,
       &apos;SaleCondition&apos;, &apos;SalePrice&apos;],
      dtype=&apos;object&apos;)
</code></pre><h1 id="1-æˆ‘ä»¬å¸Œæœ›å¾—åˆ°ä»€ä¹ˆï¼Ÿ"><a href="#1-æˆ‘ä»¬å¸Œæœ›å¾—åˆ°ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1 æˆ‘ä»¬å¸Œæœ›å¾—åˆ°ä»€ä¹ˆï¼Ÿ"></a>1 æˆ‘ä»¬å¸Œæœ›å¾—åˆ°ä»€ä¹ˆï¼Ÿ</h1><p>ä¸ºäº†äº†è§£æ•°æ®ï¼Œåˆ†æè§„åˆ™è¡¨ï¼š<br>1.å˜é‡- å˜é‡å<br>2.ç±»å‹- å˜é‡ç±»å‹ï¼šæ•°å€¼å‹ ç±»åˆ«å‹<br>3.ç»†åˆ†- å˜é‡ç»†åˆ†çš„è¯†åˆ«ã€‚ æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸‰ä¸ªå¯èƒ½çš„éƒ¨åˆ†ï¼šå»ºç­‘ï¼Œç©ºé—´æˆ–ä½ç½®ã€‚ å½“æˆ‘ä»¬è¯´â€™å»ºç­‘â€™æ—¶ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯ä¸å»ºç­‘ç‰©çš„ç‰©ç†ç‰¹å¾ç›¸å…³çš„å˜é‡ï¼ˆä¾‹å¦‚â€™OverallQualâ€™ï¼‰ã€‚ å½“æˆ‘ä»¬è¯´â€™ç©ºé—´â€™æ—¶ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯ä¸€ä¸ªæŠ¥å‘Šæˆ¿å±‹ç©ºé—´å±æ€§çš„å˜é‡ï¼ˆä¾‹å¦‚â€™TotalBsmtSFâ€™ï¼‰ã€‚ æœ€åï¼Œå½“æˆ‘ä»¬è¯´â€œä½ç½®â€æ—¶ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯ä¸€ä¸ªå˜é‡ï¼Œå®ƒæä¾›æœ‰å…³æˆ¿å±‹æ‰€åœ¨ä½ç½®çš„ä¿¡æ¯ï¼ˆä¾‹å¦‚â€œé‚»å±…â€<br>4.æœŸæœ›- æˆ‘ä»¬å¯¹â€œé”€å”®ä»·æ ¼â€å˜é‡å½±å“çš„æœŸæœ›ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨â€œé«˜â€ã€â€œä¸­â€å’Œâ€œä½â€ä½œä¸ºå¯èƒ½å€¼çš„åˆ†ç±»é‡è¡¨<br>5.ç»“è®º- åœ¨æˆ‘ä»¬å¿«é€ŸæŸ¥çœ‹æ•°æ®ä¹‹åï¼Œæˆ‘ä»¬å¯¹å˜é‡é‡è¦æ€§çš„ç»“è®ºã€‚ æˆ‘ä»¬å¯ä»¥ä¿æŒä¸â€œæœŸæœ›â€ä¸­ç›¸åŒçš„åˆ†ç±»æ ‡åº¦ã€‚<br>6.è¯„è®º- ä»»ä½•æˆ‘ä»¬æƒ³åˆ°çš„ä¸€èˆ¬æ€§è¯„è®º</p>
<p>ä¸ºäº†å¡«æ»¡è¿™ä¸€æ ï¼Œæˆ‘ä»¬åº”è¯¥é˜…è¯»æ‰€æœ‰å˜é‡çš„æè¿°ï¼Œç„¶åä¸€ä¸ªæ¥ä¸€ä¸ªåœ°é—®è‡ªå·±:<br>æˆ‘ä»¬åœ¨ä¹°æˆ¿çš„æ—¶å€™ä¼šè€ƒè™‘è¿™ä¸ªå˜é‡å—?ä¾‹:å½“æˆ‘ä»¬æƒ³åˆ°æˆ‘ä»¬æ¢¦æƒ³ä¸­çš„æˆ¿å­æ—¶ï¼Œæˆ‘ä»¬ä¼šåœ¨æ„å®ƒçš„â€œç –çŸ³è´´é¢ç±»å‹â€å—?<br>å¦‚æœæ˜¯ï¼Œè¿™ä¸ªå˜é‡æœ‰å¤šé‡è¦?ä¾‹:æ‹¥æœ‰â€œä¼˜ç§€â€ææ–™è€Œä¸æ˜¯â€œå·®â€ææ–™å¯¹å¤–è§‚æœ‰ä»€ä¹ˆå½±å“?ä»¥åŠç”¨â€œExcellentâ€è€Œä¸æ˜¯â€œGoodâ€?<br>è¿™ä¸ªä¿¡æ¯å·²ç»åœ¨å…¶ä»–å˜é‡ä¸­æè¿°è¿‡äº†å—?ä¾‹:å¦‚æœâ€œLandContourâ€ç»™å‡ºäº†ç‰©ä¸šçš„å¹³æ•´åº¦ï¼Œæˆ‘ä»¬çœŸçš„éœ€è¦çŸ¥é“â€œLandSlopeâ€ï¼Ÿï¼‰</p>
<p>ç›®çš„ï¼šäº†è§£æ•°æ® æ‰¾å‡ºå“ªå‡ ä¸ªå˜é‡é‡è¦</p>
<p>I went through this process and concluded that the following variables can play an important role in this problem:</p>
<ul>
<li>OverallQual (which is a variable that I donâ€™t like because I donâ€™t know how it was computed; a funny exercise would be to predict â€˜OverallQualâ€™ using all the other variables available).</li>
<li>YearBuilt.</li>
<li>TotalBsmtSF.</li>
<li>GrLivArea.</li>
</ul>
<h1 id="2-é¦–å…ˆåˆ†æSalePriceå˜é‡ï¼Œæ˜¯æˆ‘ä»¬çš„é—®é¢˜çš„ç›®æ ‡ã€‚"><a href="#2-é¦–å…ˆåˆ†æSalePriceå˜é‡ï¼Œæ˜¯æˆ‘ä»¬çš„é—®é¢˜çš„ç›®æ ‡ã€‚" class="headerlink" title="2 é¦–å…ˆåˆ†æSalePriceå˜é‡ï¼Œæ˜¯æˆ‘ä»¬çš„é—®é¢˜çš„ç›®æ ‡ã€‚"></a>2 é¦–å…ˆåˆ†æSalePriceå˜é‡ï¼Œæ˜¯æˆ‘ä»¬çš„é—®é¢˜çš„ç›®æ ‡ã€‚</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#ç»Ÿè®¡æè¿°</span></span><br><span class="line">df_train[<span class="string">'SalePrice'</span>].describe()</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç›´æ–¹å›¾åˆ†å¸ƒ</span></span><br><span class="line">sns.distplot(df_train[<span class="string">'SalePrice'</span>]);</span><br></pre></td></tr></table></figure>
<pre><code>C:\Users\35038\Anaconda3\lib\site-packages\scipy\stats\stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
</code></pre><p><img src="/images/output_6_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''Deviate from the normal distribution.</span></span><br><span class="line"><span class="string">   Have appreciable positive skewness.å³å</span></span><br><span class="line"><span class="string">   Show peakedness.å°–å³°'''</span></span><br></pre></td></tr></table></figure>
<pre><code>&apos;Deviate from the normal distribution.\n   Have appreciable positive skewness.å³å\n   Show peakedness.å°–å³°&apos;
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ååº¦å’Œå³°å€¼</span></span><br><span class="line">print(<span class="string">'Skewness: %f'</span> % df_train[<span class="string">'SalePrice'</span>].skew())</span><br><span class="line">print(<span class="string">'Kurtosis: %f'</span> % df_train[<span class="string">'SalePrice'</span>].kurt())</span><br></pre></td></tr></table></figure>
<pre><code>Skewness: 1.882876
Kurtosis: 6.536282
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä¸æ•°å€¼å˜é‡çš„å…³ç³»</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#GrLivArea å’Œ SalePriceçš„æ•£ç‚¹å›¾</span></span><br><span class="line">var = <span class="string">'GrLivArea'</span></span><br><span class="line">data = pd.concat([df_train[<span class="string">'SalePrice'</span>],df_train[var]],axis = <span class="number">1</span>)</span><br><span class="line">data.plot.scatter(x=var,y=<span class="string">'SalePrice'</span>,ylim=(<span class="number">0</span>,<span class="number">800000</span>))</span><br></pre></td></tr></table></figure>
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1f14c5dc278&gt;
</code></pre><p><img src="/images/output_9_1.png" alt="png"></p>
<p>çœ‹èµ·æ¥äºŒè€…æœ‰çº¿æ€§å…³ç³»</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#TotalBsmtSF å’ŒSalePriceçš„æ•£ç‚¹å›¾</span></span><br><span class="line">var = <span class="string">'TotalBsmtSF'</span></span><br><span class="line">data = pd.concat([df_train[<span class="string">'SalePrice'</span>],df_train[var]],axis =<span class="number">1</span>)</span><br><span class="line">data.plot.scatter(x=var,y=<span class="string">'SalePrice'</span>,ylim=(<span class="number">0</span>,<span class="number">800000</span>))</span><br></pre></td></tr></table></figure>
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1f14c68d390&gt;
</code></pre><p><img src="/images/output_11_1.png" alt="png"></p>
<p>çœ‹èµ·æ¥ä¹Ÿæœ‰å¾ˆå¼ºçƒˆçš„çº¿æ€§å…³ç³» æˆ–è€… æŒ‡æ•°å…³ç³»ï¼›æ­¤å¤–è¿˜æœ‰ä¸€äº›ä¸º0çš„å€¼</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä¸ç±»åˆ«å˜é‡çš„å…³ç³»</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#OverallQualå’ŒSalePriceçš„ç®±å‹å›¾</span></span><br><span class="line">var= <span class="string">'OverallQual'</span></span><br><span class="line">data = pd.concat([df_train[<span class="string">'SalePrice'</span>],df_train[var]],axis=<span class="number">1</span>)</span><br><span class="line">f, ax = plt.subplots(figsize=(<span class="number">8</span>,<span class="number">6</span>))</span><br><span class="line">fig = sns.boxplot(x=var,y=<span class="string">'SalePrice'</span>,data=data)</span><br><span class="line">fig.axis(ymin=<span class="number">0</span>,ymax=<span class="number">800000</span>)</span><br></pre></td></tr></table></figure>
<pre><code>(-0.5, 9.5, 0, 800000)
</code></pre><p><img src="/images/output_13_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var = <span class="string">'YearBuilt'</span></span><br><span class="line">data = pd.concat([df_train[<span class="string">'SalePrice'</span>],df_train[var]],axis=<span class="number">1</span>)</span><br><span class="line">f,ax = plt.subplots(figsize=(<span class="number">16</span>,<span class="number">8</span>))</span><br><span class="line">fig = sns.boxplot(x=var,y= <span class="string">'SalePrice'</span>,data =data)</span><br><span class="line">fig.axis(ylim=<span class="number">0</span>,ymax=<span class="number">800000</span>)</span><br><span class="line">plt.xticks(rotation=<span class="number">90</span>)</span><br></pre></td></tr></table></figure>
<pre><code>(array([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,
         13,  14,  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,
         26,  27,  28,  29,  30,  31,  32,  33,  34,  35,  36,  37,  38,
         39,  40,  41,  42,  43,  44,  45,  46,  47,  48,  49,  50,  51,
         52,  53,  54,  55,  56,  57,  58,  59,  60,  61,  62,  63,  64,
         65,  66,  67,  68,  69,  70,  71,  72,  73,  74,  75,  76,  77,
         78,  79,  80,  81,  82,  83,  84,  85,  86,  87,  88,  89,  90,
         91,  92,  93,  94,  95,  96,  97,  98,  99, 100, 101, 102, 103,
        104, 105, 106, 107, 108, 109, 110, 111]),
 &lt;a list of 112 Text xticklabel objects&gt;)
</code></pre><p><img src="/images/output_14_1.png" alt="png"></p>
<p>æˆ‘ä»¬ä¸çŸ¥é“â€™SalePriceâ€™æ˜¯å¦ä»·æ ¼ä¸å˜ã€‚ ä¸å˜çš„ä»·æ ¼è¯•å›¾æ¶ˆé™¤é€šèƒ€çš„å½±å“ã€‚ å¦‚æœâ€™SalePriceâ€™ä¸æ˜¯ä»·æ ¼ä¸å˜çš„è¯ï¼Œå®ƒåº”è¯¥æ˜¯ï¼Œå› æ­¤å¤šå¹´æ¥ä»·æ ¼å¯ä»¥æ¯”è¾ƒ</p>
<p>æ€»ç»“</p>
<ul>
<li>â€œGrLivAreaâ€å’Œâ€œTotalBsmtSFâ€ä¼¼ä¹ä¸â€œSalePriceâ€çº¿æ€§ç›¸å…³ã€‚ä¸¤ç§å…³ç³»éƒ½æ˜¯æ­£çš„ï¼Œè¿™æ„å‘³ç€éšç€ä¸€ä¸ªå˜é‡çš„å¢åŠ ï¼Œå¦ä¸€ä¸ªå˜é‡ä¹Ÿä¼šå¢åŠ ã€‚åœ¨TotalBsmtSFçš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°çº¿æ€§å…³ç³»çš„æ–œç‡ç‰¹åˆ«é«˜ã€‚</li>
<li>â€œOverallQualâ€å’Œâ€œYearBuiltâ€ä¼¼ä¹ä¹Ÿä¸â€œSalePriceâ€æœ‰å…³ã€‚åœ¨â€œæ€»ä½“è´¨é‡â€çš„ä¾‹å­ä¸­ï¼Œè¿™ç§å…³ç³»ä¼¼ä¹æ›´å¼ºï¼Œç›’å­å›¾æ˜¾ç¤ºäº†é”€å”®ä»·æ ¼å¦‚ä½•éšç€æ•´ä½“è´¨é‡çš„æé«˜è€Œä¸Šå‡ã€‚</li>
</ul>
<p>æˆ‘ä»¬åªåˆ†æäº†å››ä¸ªå˜é‡ï¼Œä½†è¿˜æœ‰è®¸å¤šå…¶ä»–çš„å˜é‡éœ€è¦åˆ†æã€‚è¿™é‡Œçš„æŠ€å·§ä¼¼ä¹æ˜¯é€‰æ‹©æ­£ç¡®çš„ç‰¹æ€§(ç‰¹æ€§é€‰æ‹©)ï¼Œè€Œä¸æ˜¯å®šä¹‰å®ƒä»¬ä¹‹é—´çš„å¤æ‚å…³ç³»(ç‰¹æ€§å·¥ç¨‹)ã€‚</p>
<h1 id="3"><a href="#3" class="headerlink" title="3"></a>3</h1><p>å‰é¢ä»ä¸»è§‚ä¸Šåªæ˜¯å¯¹è®¤ä¸ºé‡è¦çš„å˜é‡è¿›è¡Œæµ‹é‡ï¼Œ<br>å°½ç®¡åˆ†ææ˜¯å®¢è§‚çš„ï¼Œä½†æ˜¯å‡ºå‘ç‚¹æ˜¯ä¸»è§‚çš„ã€‚</p>
<p>è¦æ¢ç©¶æ•°æ®ï¼Œä»ä¸€ç›´å®ç”¨çš„æ–¹æ³•å¼€å§‹</p>
<ul>
<li>Correlation matrix (heatmap style).å…³ç³»çŸ©é˜µ/çƒ­åŠ›å›¾</li>
<li>â€˜SalePriceâ€™ correlation matrix (zoomed heatmap style).</li>
<li>Scatter plots between the most correlated variables (move like Jagger style). </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å…³ç³»çŸ©é˜µ</span></span><br><span class="line">corrmat = df_train.corr()</span><br><span class="line"><span class="comment">#print(corrmat)</span></span><br><span class="line">f,ax = plt.subplots(figsize=(<span class="number">12</span>,<span class="number">9</span>))</span><br><span class="line">sns.heatmap(corrmat,vmax=<span class="number">0.8</span>,square = <span class="keyword">True</span>)</span><br></pre></td></tr></table></figure>
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1f14d057518&gt;
</code></pre><p><img src="/images/output_19_1.png" alt="png"></p>
<p>çƒ­åŠ›å›¾é€‚åˆçœ‹å¤§é‡å˜é‡ä¹‹é—´çš„å…³ç³»<br>å¯ä»¥ä¸€çœ¼çœ‹å‡ºä¸‹é¢çš„å˜é‡å…³ç³»å¼ºçƒˆï¼Œå…±çº¿æ€§çš„æƒ…å†µï¼Œ</p>
<ul>
<li>The first one refers to the â€˜TotalBsmtSFâ€™ and â€˜1stFlrSFâ€™ variables, </li>
<li>and the second one refers to the â€˜GarageXâ€™ variables</li>
</ul>
<p>çƒ­å›¾éå¸¸é€‚åˆæ£€æµ‹è¿™ç§æƒ…å†µï¼Œåœ¨åƒæˆ‘ä»¬è¿™æ ·ä»¥ç‰¹å¾é€‰æ‹©ä¸ºä¸»çš„é—®é¢˜ä¸­ï¼Œçƒ­å›¾æ˜¯å¿…ä¸å¯å°‘çš„å·¥å…·</p>
<p>å†çœ‹â€™SalePriceâ€™è¿™ä¸€å˜é‡ï¼Œâ€™GrLivAreaâ€™ â€˜TotalBsmtSFâ€™, å’Œ â€˜OverallQualâ€™ éƒ½æœ‰æ˜¾è‘—çš„ç›¸å…³æ€§<br>ä½†æ˜¯ä¹Ÿçœ‹åˆ°äº†å…¶ä»–å˜é‡ä¹Ÿéœ€è¦è€ƒè™‘è¿›æ¥ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#â€œSalePriceâ€ç›¸å…³çŸ©é˜µ(ç¼©æ”¾çƒ­å›¾æ ·å¼</span></span><br><span class="line">k = <span class="number">10</span></span><br><span class="line">cols = corrmat.nlargest(k,<span class="string">'SalePrice'</span>).index</span><br><span class="line"><span class="comment">#print(cols)</span></span><br><span class="line">cm = np.corrcoef(df_train[cols].values.T)</span><br><span class="line">sns.set(font_scale=<span class="number">1.25</span>)</span><br><span class="line">hm = sns.heatmap(cm,cbar=<span class="keyword">True</span>,annot=<span class="keyword">True</span>,square=<span class="keyword">True</span>,fmt=<span class="string">'.2f'</span>,annot_kws=&#123;<span class="string">'size'</span>:<span class="number">10</span>&#125;,yticklabels=cols.values,xticklabels=cols.values)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/images/output_22_0.png" alt="png"></p>
<p>ä»ç›¸å…³ç³»æ•°çœ‹å‡ºï¼Œå‡ ä¸ªå˜é‡ä¸SalePriceéå¸¸ç›¸å…³ï¼š</p>
<ul>
<li>â€˜OverallQualâ€™, â€˜GrLivAreaâ€™ â€˜TotalBsmtSFâ€™ å·²æ¢ç´¢</li>
<li>GarageCarsâ€™ and â€˜GarageAreaâ€™ç›¸å…³ç³»æ•°ä¹Ÿå¤§ï¼Œä½†æ˜¯äºŒè€…ä¹‹é—´æœ‰è”ç³»ï¼Œåªä¿ç•™ä¸€ä¸ªï¼Œä¿ç•™å¤§çš„é‚£ä¸ªï¼Œâ€™GarageCarsâ€˜</li>
<li>â€œFullBathâ€ï¼Ÿ çœŸçš„å‡çš„ï¼Ÿ</li>
<li>â€˜TotalBsmtSFâ€™ and â€˜1stFloorâ€™ ä¹Ÿæ˜¯åªä¿ç•™å‰è€…</li>
<li>â€˜TotRmsAbvGrdâ€™ and â€˜GrLivAreaâ€™,ä¹Ÿæ˜¯ä¿ç•™åè€…</li>
<li>â€œYearBuiltâ€ä¼¼ä¹ä¸â€œSalePriceâ€ç•¥æœ‰å…³è”</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#â€œSalePriceâ€å’Œç›¸å…³å˜é‡ä¹‹é—´çš„æ•£ç‚¹å›¾(åƒJaggeré£æ ¼ä¸€æ ·ç§»åŠ¨)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ•£ç‚¹å›¾</span></span><br><span class="line">sns.set()</span><br><span class="line">cols = [<span class="string">'SalePrice'</span>,<span class="string">'OverallQual'</span>,<span class="string">'GrLivArea'</span>,<span class="string">'GarageCars'</span>,<span class="string">'TotalBsmtSF'</span>,<span class="string">'FullBath'</span>,<span class="string">'YearBuilt'</span>]</span><br><span class="line">sns.pairplot(df_train[cols],height=<span class="number">2.5</span>)    <span class="comment">#æˆå¯¹å…³ç³»</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/images/output_24_0.png" alt="png"></p>
<p>è™½ç„¶æˆ‘ä»¬å·²ç»çŸ¥é“äº†ä¸€äº›ä¸»è¦çš„æ•°å­—ï¼Œä½†æ˜¯è¿™ä¸ªå¤§å‹æ•£ç‚¹å›¾è®©æˆ‘ä»¬å¯¹å˜é‡å…³ç³»æœ‰äº†ä¸€ä¸ªåˆç†çš„æ¦‚å¿µ.</p>
<ul>
<li>â€˜TotalBsmtSFâ€™ å’Œâ€™GrLiveAreaâ€™ä¹‹é—´ä¼¼ä¹æœ‰ä¸€æ¡ç›´çº¿ï¼Œåƒä¸ªç•Œé™ï¼Œå¤§éƒ¨åˆ†çš„ç‚¹ä½äºçº¿ä»¥ä¸‹ã€‚è¿™æ˜¯å¾ˆåˆç†çš„ï¼šåœ°ä¸‹å®¤é¢ç§¯å¯ä»¥ç­‰äºåœ°ä¸Šçš„ç”Ÿæ´»åŒºï¼Œä½†åœ°ä¸‹å®¤é¢ç§¯ä¸èƒ½å¤§äºåœ°ä¸Šçš„ç”Ÿæ´»åŒº(é™¤éä½ æƒ³ä¹°åœ°å ¡)ã€‚</li>
<li>â€˜SalePriceâ€™ and â€˜YearBuiltâ€™ä¹‹é—´ï¼šåœ¨â€œç‚¹äº‘â€çš„åº•éƒ¨ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„å‡ ä¹æ˜¯ä¸€ä¸ªå®³ç¾çš„æŒ‡æ•°å‡½æ•°(è¦æœ‰åˆ›é€ åŠ›)ã€‚æˆ‘ä»¬è¿˜å¯ä»¥åœ¨â€œç‚¹äº‘â€çš„ä¸Šç•Œçœ‹åˆ°åŒæ ·çš„è¶‹åŠ¿(æ›´å…·åˆ›é€ æ€§)ã€‚åŒæ—¶ï¼Œæ³¨æ„è¿‡å»å‡ å¹´çš„ç‚¹é›†æ˜¯å¦‚ä½•ä¿æŒåœ¨è¿™ä¸ªæé™ä¹‹ä¸Šçš„(æˆ‘åªæ˜¯æƒ³è¯´ï¼Œç°åœ¨çš„ä»·æ ¼å¢é•¿æ›´å¿«)ã€‚</li>
</ul>
<h1 id="4-ç¼ºå¤±æ•°æ®"><a href="#4-ç¼ºå¤±æ•°æ®" class="headerlink" title="4. ç¼ºå¤±æ•°æ®"></a>4. ç¼ºå¤±æ•°æ®</h1><p>é‡è¦çš„é—®é¢˜ï¼š</p>
<ul>
<li>ç¼ºå¤±çš„æ•°æ®æœ‰å¤šæ™®é?</li>
<li>ä¸¢å¤±çš„æ•°æ®æ˜¯éšæœºçš„è¿˜æ˜¯æœ‰è§„å¾‹çš„ï¼Ÿ</li>
</ul>
<p>å‡ºäºå®é™…åŸå› ï¼Œè¿™äº›é—®é¢˜çš„ç­”æ¡ˆå¾ˆé‡è¦ï¼Œå› ä¸ºç¼ºå°‘æ•°æ®å¯èƒ½æ„å‘³ç€æ ·æœ¬é‡çš„å‡å°‘ã€‚ è¿™å¯ä»¥é˜»æ­¢æˆ‘ä»¬ç»§ç»­è¿›è¡Œåˆ†æã€‚ æ­¤å¤–ï¼Œä»å®è´¨çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿ç¼ºå¤±çš„æ•°æ®æµç¨‹æ²¡æœ‰åè§å¹¶éšè—ä¸€ä¸ªä¸æ–¹ä¾¿çš„äº‹å®ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è§‚å¯Ÿç¼ºå¤±æ•°æ®</span></span><br><span class="line">total = df_train.isnull().sum().sort_values(ascending=<span class="keyword">False</span>)        <span class="comment">#æ¯ä¸ªå˜é‡ç¼ºå¤±æ•°é‡</span></span><br><span class="line"><span class="comment">#print(total)</span></span><br><span class="line">percent = (df_train.isnull().sum()/df_train.isnull().count()).sort_values(ascending=<span class="keyword">False</span>)  <span class="comment">#æ¯ä¸ªå˜é‡ç¼ºå¤±æ¯”ä¾‹</span></span><br><span class="line">missing_data = pd.concat([total,percent],axis = <span class="number">1</span>,keys=[<span class="string">'Total'</span>,<span class="string">'Percent'</span>])</span><br><span class="line">missing_data.head(<span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<div><br><style scoped><br>    .dataframe tbody tr th:only-of-type {<br>        vertical-align: middle;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br><br>    .dataframe thead th {<br>        text-align: right;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>Total</th><br>      <th>Percent</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>PoolQC</th><br>      <td>1453</td><br>      <td>0.995205</td><br>    </tr><br>    <tr><br>      <th>MiscFeature</th><br>      <td>1406</td><br>      <td>0.963014</td><br>    </tr><br>    <tr><br>      <th>Alley</th><br>      <td>1369</td><br>      <td>0.937671</td><br>    </tr><br>    <tr><br>      <th>Fence</th><br>      <td>1179</td><br>      <td>0.807534</td><br>    </tr><br>    <tr><br>      <th>FireplaceQu</th><br>      <td>690</td><br>      <td>0.472603</td><br>    </tr><br>    <tr><br>      <th>LotFrontage</th><br>      <td>259</td><br>      <td>0.177397</td><br>    </tr><br>    <tr><br>      <th>GarageCond</th><br>      <td>81</td><br>      <td>0.055479</td><br>    </tr><br>    <tr><br>      <th>GarageType</th><br>      <td>81</td><br>      <td>0.055479</td><br>    </tr><br>    <tr><br>      <th>GarageYrBlt</th><br>      <td>81</td><br>      <td>0.055479</td><br>    </tr><br>    <tr><br>      <th>GarageFinish</th><br>      <td>81</td><br>      <td>0.055479</td><br>    </tr><br>    <tr><br>      <th>GarageQual</th><br>      <td>81</td><br>      <td>0.055479</td><br>    </tr><br>    <tr><br>      <th>BsmtExposure</th><br>      <td>38</td><br>      <td>0.026027</td><br>    </tr><br>    <tr><br>      <th>BsmtFinType2</th><br>      <td>38</td><br>      <td>0.026027</td><br>    </tr><br>    <tr><br>      <th>BsmtFinType1</th><br>      <td>37</td><br>      <td>0.025342</td><br>    </tr><br>    <tr><br>      <th>BsmtCond</th><br>      <td>37</td><br>      <td>0.025342</td><br>    </tr><br>    <tr><br>      <th>BsmtQual</th><br>      <td>37</td><br>      <td>0.025342</td><br>    </tr><br>    <tr><br>      <th>MasVnrArea</th><br>      <td>8</td><br>      <td>0.005479</td><br>    </tr><br>    <tr><br>      <th>MasVnrType</th><br>      <td>8</td><br>      <td>0.005479</td><br>    </tr><br>    <tr><br>      <th>Electrical</th><br>      <td>1</td><br>      <td>0.000685</td><br>    </tr><br>    <tr><br>      <th>Utilities</th><br>      <td>0</td><br>      <td>0.000000</td><br>    </tr><br>  </tbody><br></table><br></div>



<p>å¦‚ä½•å¤„ç†</p>
<ul>
<li><p>æˆ‘ä»¬ä¼šè€ƒè™‘å½“è¶…è¿‡15ï¼…çš„æ•°æ®ä¸¢å¤±æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥åˆ é™¤ç›¸åº”çš„å˜é‡å¹¶å‡è£…å®ƒä»æœªå­˜åœ¨è¿‡ã€‚ è¿™æ„å‘³ç€åœ¨è¿™äº›æƒ…å†µä¸‹æˆ‘ä»¬ä¸ä¼šå°è¯•ä»»ä½•æŠ€å·§æ¥å¡«å……ç¼ºå¤±çš„æ•°æ®ã€‚ æ®æ­¤ï¼Œæˆ‘ä»¬åº”è¯¥åˆ é™¤ä¸€ç»„å˜é‡ï¼ˆä¾‹å¦‚â€™PoolQCâ€™ï¼Œâ€™MiscFeatureâ€™ï¼Œâ€™Alleyâ€™ç­‰ï¼‰ã€‚ å…³é”®æ˜¯ï¼šæˆ‘ä»¬ä¼šé”™è¿‡è¿™äº›æ•°æ®å—ï¼Ÿ æˆ‘ä¸è¿™ä¹ˆè®¤ä¸ºã€‚ è¿™äº›å˜é‡ä¼¼ä¹éƒ½ä¸æ˜¯éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒä»¬ä¸­çš„å¤§éƒ¨åˆ†éƒ½ä¸æ˜¯æˆ‘ä»¬åœ¨ä¹°æˆ¿æ—¶è€ƒè™‘çš„æ–¹é¢ï¼ˆä¹Ÿè®¸è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ•°æ®ä¸¢å¤±çš„åŸå› ï¼Ÿï¼‰ã€‚ æ­¤å¤–ï¼Œä»”ç»†è§‚å¯Ÿå˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥è¯´åƒâ€™PoolQCâ€™ï¼Œâ€™MiscFeatureâ€™å’Œâ€™FireplaceQuâ€™è¿™æ ·çš„å˜é‡æ˜¯å¼‚å¸¸å€¼çš„å¼ºæœ‰åŠ›å€™é€‰è€…ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾ˆä¹æ„åˆ é™¤å®ƒä»¬</p>
</li>
<li><p>åœ¨å‰©ä¸‹çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°â€™GarageXâ€™å˜é‡å…·æœ‰ç›¸åŒæ•°é‡çš„ç¼ºå¤±æ•°æ®ã€‚ æˆ‘æ‰“èµŒç¼ºå¤±çš„æ•°æ®æ˜¯æŒ‡åŒä¸€ç»„è§‚å¯Ÿç»“æœï¼ˆè™½ç„¶æˆ‘ä¸ä¼šæ£€æŸ¥å®ƒ;å®ƒåªæ˜¯5ï¼…ï¼Œæˆ‘ä»¬ä¸åº”è¯¥èŠ±è´¹20 in5in5é—®é¢˜ï¼‰ã€‚ ç”±äºå…³äºè½¦åº“çš„æœ€é‡è¦çš„ä¿¡æ¯æ˜¯ç”±â€™GarageCarsâ€™è¡¨ç¤ºçš„ï¼Œå¹¶ä¸”è€ƒè™‘åˆ°æˆ‘ä»¬åªè®¨è®ºäº†5ï¼…çš„ç¼ºå¤±æ•°æ®ï¼Œæˆ‘å°†åˆ é™¤æåˆ°çš„â€™GarageXâ€™å˜é‡ã€‚ åŒæ ·çš„é€»è¾‘é€‚ç”¨äºâ€™BsmtXâ€™å˜é‡ã€‚</p>
</li>
<li><p>å…³äºâ€™MasVnrAreaâ€™å’Œâ€™MasVnrTypeâ€™ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºè¿™äº›å˜é‡ä¸æ˜¯å¿…éœ€çš„ã€‚ æ­¤å¤–ï¼Œå®ƒä»¬ä¸å·²ç»è€ƒè™‘è¿‡çš„â€™YearBuiltâ€™å’Œâ€™OverallQualâ€™æœ‰å¾ˆå¼ºçš„ç›¸å…³æ€§ã€‚ å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬åˆ â€™MasVnrAreaâ€™å’Œâ€™MasVnrTypeâ€™ï¼Œæˆ‘ä»¬ä¸ä¼šä¸¢å¤±ä¿¡æ¯ã€‚</p>
</li>
<li><p>æœ€åï¼Œæˆ‘ä»¬åœ¨â€™Electricalâ€™ä¸­æœ‰ä¸€ä¸ªç¼ºå¤±çš„è§‚å¯Ÿç»“æœã€‚ ç”±äºå®ƒåªæ˜¯ä¸€ä¸ªè§‚å¯Ÿï¼Œæˆ‘ä»¬å°†åˆ é™¤æ­¤è§‚å¯Ÿå¹¶ä¿ç•™å˜é‡ã€‚</p>
</li>
<li><p>æ€»ä¹‹ï¼Œä¸ºäº†å¤„ç†ä¸¢å¤±çš„æ•°æ®ï¼Œæˆ‘ä»¬å°†åˆ é™¤æ‰€æœ‰ç¼ºå°‘æ•°æ®çš„å˜é‡ï¼Œä½†å˜é‡â€œElectricalâ€é™¤å¤–ã€‚ åœ¨â€œç”µæ°”â€ä¸­ï¼Œæˆ‘ä»¬å°†åˆ é™¤ç¼ºå°‘æ•°æ®çš„è§‚å¯Ÿç»“æœã€‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¤„ç†ç¼ºå¤±æ•°æ®</span></span><br><span class="line">df_train = df_train.drop((missing_data[missing_data[<span class="string">'Total'</span>]&gt;<span class="number">1</span>]).index, axis= <span class="number">1</span>)</span><br><span class="line">df_train = df_train.drop(df_train.loc[df_train[<span class="string">'Electrical'</span>].isnull()].index)</span><br><span class="line">df_train.isnull().sum().max() <span class="comment">#æ£€æŸ¥æ˜¯å¦è¿˜æœ‰ç¼ºå¤±æ•°æ®</span></span><br></pre></td></tr></table></figure>
<pre><code>0
</code></pre><h1 id="å¼‚å¸¸å€¼"><a href="#å¼‚å¸¸å€¼" class="headerlink" title="å¼‚å¸¸å€¼"></a>å¼‚å¸¸å€¼</h1><p> å¼‚å¸¸å€¼ä¹Ÿæ˜¯æˆ‘ä»¬åº”è¯¥æ³¨æ„çš„äº‹æƒ…ã€‚ ä¸ºä»€ä¹ˆï¼Ÿ å› ä¸ºå¼‚å¸¸å€¼å¯ä»¥æ˜¾ç€å½±å“æˆ‘ä»¬çš„æ¨¡å‹ï¼Œå¹¶ä¸”å¯ä»¥æˆä¸ºæœ‰ä»·å€¼çš„ä¿¡æ¯æ¥æºï¼Œä¸ºæˆ‘ä»¬æä¾›æœ‰å…³ç‰¹å®šè¡Œä¸ºçš„è§è§£ã€‚</p>
<p>å¼‚å¸¸å€¼æ˜¯ä¸€ä¸ªå¤æ‚çš„ä¸»é¢˜ï¼Œå€¼å¾—æ›´å¤šå…³æ³¨ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†é€šè¿‡â€œSalePriceâ€çš„æ ‡å‡†åå·®å’Œä¸€ç»„æ•£ç‚¹å›¾è¿›è¡Œå¿«é€Ÿåˆ†æã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ ‡å‡†åŒ–æ•°æ®</span></span><br><span class="line">saleprice_scaled = StandardScaler().fit_transform(df_train[<span class="string">'SalePrice'</span>][:,np.newaxis])</span><br><span class="line">low_range = saleprice_scaled[saleprice_scaled[:,<span class="number">0</span>].argsort()][:<span class="number">10</span>] <span class="comment">#argsortå‡½æ•°è¿”å›çš„æ˜¯æ•°ç»„å€¼ä»å°åˆ°å¤§çš„ç´¢å¼•å€¼</span></span><br><span class="line">high_range = saleprice_scaled[saleprice_scaled[:,<span class="number">0</span>].argsort()][<span class="number">-10</span>:]</span><br><span class="line">print(<span class="string">'åˆ†å¸ƒï¼ˆä½ï¼‰çš„å¤–éƒ¨èŒƒå›´ï¼š'</span>)</span><br><span class="line">print(low_range)</span><br><span class="line">print(<span class="string">'\nåˆ†å¸ƒï¼ˆé«˜ï¼‰çš„å¤–éƒ¨èŒƒå›´:'</span>)</span><br><span class="line">print(high_range)</span><br></pre></td></tr></table></figure>
<pre><code>åˆ†å¸ƒï¼ˆä½ï¼‰çš„å¤–éƒ¨èŒƒå›´ï¼š
[[-1.83820775]
 [-1.83303414]
 [-1.80044422]
 [-1.78282123]
 [-1.77400974]
 [-1.62295562]
 [-1.6166617 ]
 [-1.58519209]
 [-1.58519209]
 [-1.57269236]]

åˆ†å¸ƒï¼ˆé«˜ï¼‰çš„å¤–éƒ¨èŒƒå›´:
[[3.82758058]
 [4.0395221 ]
 [4.49473628]
 [4.70872962]
 [4.728631  ]
 [5.06034585]
 [5.42191907]
 [5.58987866]
 [7.10041987]
 [7.22629831]]


C:\Users\35038\Anaconda3\lib\site-packages\sklearn\utils\validation.py:475: DataConversionWarning: Data with input dtype int64 was converted to float64 by StandardScaler.
  warnings.warn(msg, DataConversionWarning)
C:\Users\35038\Anaconda3\lib\site-packages\sklearn\utils\validation.py:475: DataConversionWarning: Data with input dtype int64 was converted to float64 by StandardScaler.
  warnings.warn(msg, DataConversionWarning)
</code></pre><ul>
<li>ä½é‡ç¨‹å€¼ç›¸ä¼¼ï¼Œä¸”ç¦»0ä¸è¿œã€‚</li>
<li>é«˜é‡ç¨‹å€¼è¿œç¦»0ã€‚7ç‚¹å‡ çš„è¯ï¼Œç¡®å®è¶…å‡ºäº†èŒƒå›´ã€‚</li>
</ul>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬ä¸è€ƒè™‘è¿™äº›å€¼ä¸­çš„ä»»ä½•ä¸€ä¸ªä½œä¸ºç¦»ç¾¤å€¼ï¼Œä½†æ˜¯æˆ‘ä»¬åº”è¯¥å°å¿ƒè¿™ä¸¤ä¸ª7ã€‚å€¼çš„ä¸œè¥¿</p>
<h1 id="äºŒå˜é‡åˆ†æ-å¼‚å¸¸å€¼"><a href="#äºŒå˜é‡åˆ†æ-å¼‚å¸¸å€¼" class="headerlink" title="äºŒå˜é‡åˆ†æ å¼‚å¸¸å€¼"></a>äºŒå˜é‡åˆ†æ å¼‚å¸¸å€¼</h1><p>ä¸‹é¢çš„æ•£ç‚¹å›¾æˆ‘ä»¬å·²ç»èƒŒç†Ÿäº†ã€‚ç„¶è€Œï¼Œå½“æˆ‘ä»¬ä»ä¸€ä¸ªæ–°çš„è§’åº¦çœ‹å¾…äº‹ç‰©æ—¶ï¼Œæ€»ä¼šå‘ç°ä¸€äº›ä¸œè¥¿ã€‚æ­£å¦‚è‰¾ä¼¦â€¢å‡¯(Alan Kay)æ‰€è¯´ï¼Œâ€œè§‚ç‚¹çš„æ”¹å˜æŠµå¾—ä¸Šæ™ºå•†çš„80åˆ†ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#saleprice å’Œgrlivareaçš„å…³ç³»</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#GrLivArea å’Œ SalePriceçš„æ•£ç‚¹å›¾</span></span><br><span class="line">var = <span class="string">'GrLivArea'</span></span><br><span class="line">data = pd.concat([df_train[<span class="string">'SalePrice'</span>],df_train[var]],axis = <span class="number">1</span>)</span><br><span class="line">data.plot.scatter(x=var,y=<span class="string">'SalePrice'</span>,ylim=(<span class="number">0</span>,<span class="number">800000</span>))</span><br></pre></td></tr></table></figure>
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1f14c1c74a8&gt;
</code></pre><p><img src="/images/output_34_1.png" alt="png"></p>
<ul>
<li>â€œGrLivAreaâ€æ›´å¤§çš„ä¸¤ä¸ªå€¼çœ‹èµ·æ¥å¾ˆå¥‡æ€ªï¼Œå®ƒä»¬å¹¶æ²¡æœ‰éšå¤§æµã€‚æˆ‘ä»¬å¯ä»¥æ¨æµ‹ä¸ºä»€ä¹ˆä¼šè¿™æ ·ã€‚ä¹Ÿè®¸ä»–ä»¬æŒ‡çš„æ˜¯å†œä¸šåœ°åŒºï¼Œè¿™å¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆä»·æ ¼è¿™ä¹ˆä½ã€‚æˆ‘ä¸ç¡®å®šè¿™ä¸€ç‚¹ï¼Œä½†æˆ‘å¾ˆæœ‰ä¿¡å¿ƒï¼Œè¿™ä¸¤ç‚¹å¹¶ä¸èƒ½ä»£è¡¨å…¸å‹çš„æ¡ˆä¾‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†å®ƒä»¬å®šä¹‰ä¸ºç¦»ç¾¤å€¼å¹¶åˆ é™¤å®ƒä»¬ã€‚</li>
<li>å›¾é¡¶ç«¯çš„ä¸¤ä¸ªè§‚å¯Ÿç»“æœæ­£æ˜¯7.çš„å€¼ã€‚æˆ‘ä»¬è¯´è¿‡è¦æ³¨æ„è§‚å¯Ÿåˆ°çš„ä¸€äº›ç°è±¡ã€‚å®ƒä»¬çœ‹èµ·æ¥åƒä¸¤ä¸ªç‰¹æ®Šçš„æ¡ˆä¾‹ï¼Œä½†å®ƒä»¬ä¼¼ä¹æ­£åœ¨éµå¾ªè¿™ä¸€è¶‹åŠ¿ã€‚å› ä¸ºé‚£ä¸ªåŸå› ï¼Œæˆ‘ä»¬ä¼šä¿ç•™å®ƒä»¬ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åˆ é™¤å¼‚å¸¸å€¼</span></span><br><span class="line">df_train.sort_values(by = <span class="string">'GrLivArea'</span>,ascending=<span class="keyword">False</span>)[:<span class="number">2</span>]</span><br><span class="line">df_train = df_train.drop(df_train[df_train[<span class="string">'Id'</span>] == <span class="number">1299</span>].index)</span><br><span class="line">df_train = df_train.drop(df_train[df_train[<span class="string">'Id'</span>] == <span class="number">524</span>].index)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#TotalBsmtSF å’ŒSalePriceçš„æ•£ç‚¹å›¾</span></span><br><span class="line">var = <span class="string">'TotalBsmtSF'</span></span><br><span class="line">data = pd.concat([df_train[<span class="string">'SalePrice'</span>],df_train[var]],axis =<span class="number">1</span>)</span><br><span class="line">data.plot.scatter(x=var,y=<span class="string">'SalePrice'</span>,ylim=(<span class="number">0</span>,<span class="number">800000</span>))</span><br></pre></td></tr></table></figure>
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1f1521c4f98&gt;
</code></pre><p><img src="/images/output_37_1.png" alt="png"></p>
<p>æˆ‘ä»¬å¯èƒ½æƒ³è¦åˆ é™¤ä¸€äº›è§‚å¯Ÿç»“æœ(ä¾‹å¦‚TotalBsmtSF &gt; 3000)ï¼Œä½†æˆ‘è®¤ä¸ºè¿™ä¸å€¼å¾—ã€‚æˆ‘ä»¬å¯ä»¥å¿å—ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»€ä¹ˆä¹Ÿä¸åšã€‚</p>
<h1 id="å…³é”®æ ¸å¿ƒ"><a href="#å…³é”®æ ¸å¿ƒ" class="headerlink" title="å…³é”®æ ¸å¿ƒ"></a>å…³é”®æ ¸å¿ƒ</h1><p>æ£€éªŒå¤šå…ƒåˆ†æçš„ç»Ÿè®¡åŸºç¡€çš„å‡è®¾ã€‚æˆ‘ä»¬å·²ç»åšäº†ä¸€äº›æ•°æ®æ¸…ç†ï¼Œå‘ç°äº†å¾ˆå¤šå…³äºâ€œSalePriceâ€çš„ä¿¡æ¯ã€‚ç°åœ¨æ˜¯æ—¶å€™æ·±å…¥äº†è§£â€œSalePriceâ€æ˜¯å¦‚ä½•ç¬¦åˆé‚£äº›ä½¿æˆ‘ä»¬èƒ½å¤Ÿåº”ç”¨å¤šå…ƒæŠ€æœ¯çš„ç»Ÿè®¡å‡è®¾çš„äº†ã€‚</p>
<ul>
<li>æ­£æ€æ€§-å½“æˆ‘ä»¬è®¨è®ºæ­£æ€æ€§æ—¶æˆ‘ä»¬çš„æ„æ€æ˜¯æ•°æ®åº”è¯¥çœ‹èµ·æ¥åƒæ­£æ€åˆ†å¸ƒã€‚è¿™å¾ˆé‡è¦ï¼Œå› ä¸ºä¸€äº›ç»Ÿè®¡æµ‹è¯•ä¾èµ–äºæ­¤(ä¾‹å¦‚tç»Ÿè®¡)ã€‚åœ¨è¿™ä¸ªç»ƒä¹ ä¸­ï¼Œæˆ‘ä»¬å°†æ£€æŸ¥â€œSalePriceâ€çš„å•å˜é‡æ­£æ€æ€§(è¿™æ˜¯ä¸€ç§æœ‰é™çš„æ–¹æ³•)ã€‚è®°ä½ï¼Œå•å˜é‡æ­£æ€æ€§å¹¶ä¸èƒ½ä¿è¯å¤šå˜é‡æ­£æ€æ€§(è¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„)ï¼Œä½†å®ƒæ˜¯æœ‰å¸®åŠ©çš„ã€‚å¦ä¸€ä¸ªéœ€è¦è€ƒè™‘çš„ç»†èŠ‚æ˜¯ï¼Œåœ¨å¤§æ ·æœ¬ä¸­(&gt;200æ¬¡è§‚å¯Ÿ)ï¼Œæ­£æ€æ€§ä¸æ˜¯å¤§çš„é—®é¢˜ã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬è§£å†³äº†å¸¸æ€ï¼Œæˆ‘ä»¬å°±å¯ä»¥é¿å…å¾ˆå¤šå…¶ä»–é—®é¢˜(æ¯”å¦‚ï¼šå¼‚æ–¹å·®æ€§ï¼‰</li>
<li>åŒæ–¹å·®-ã€‚åŒæ–¹å·®æ€§æ˜¯æŒ‡â€œå‡è®¾å› å˜é‡(s)åœ¨é¢„æµ‹å˜é‡(s)çš„èŒƒå›´å†…è¡¨ç°å‡ºç›¸åŒç¨‹åº¦çš„æ–¹å·®â€(Hair et al.ï¼Œ 2013)ã€‚åŒæ–¹å·®æ˜¯å¯å–çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›æ‰€æœ‰è‡ªå˜é‡çš„è¯¯å·®é¡¹éƒ½æ˜¯ç›¸åŒçš„ã€‚</li>
<li>çº¿æ€§åº¦-è¯„ä¼°çº¿æ€§åº¦æœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯æ£€æŸ¥æ•£ç‚¹å›¾å’Œæœç´¢çº¿æ€§æ¨¡å¼ã€‚å¦‚æœæ¨¡å¼ä¸æ˜¯çº¿æ€§çš„ï¼Œåˆ™æœ‰å¿…è¦ç ”ç©¶æ•°æ®è½¬æ¢ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸ä¼šæ·±å…¥è®¨è®ºè¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬æ‰€çœ‹åˆ°çš„æ•£ç‚¹å›¾ä¼¼ä¹éƒ½æœ‰çº¿æ€§å…³ç³»ã€‚</li>
<li>è¯¯å·®æ— ç›¸å…³æ€§â€”â€”è‡ªç›¸å…³ï¼Œå°±åƒå®šä¹‰çš„ï¼Œå‘ç”Ÿåœ¨ä¸€ä¸ªè¯¯å·®ä¸å¦ä¸€ä¸ªè¯¯å·®ç›¸å…³çš„æ—¶å€™ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªè¯¯å·®ç³»ç»Ÿåœ°äº§ç”Ÿä¸€ä¸ªè´Ÿè¯¯å·®ï¼Œè¿™æ„å‘³ç€è¿™äº›å˜é‡ä¹‹é—´å­˜åœ¨å…³ç³»ã€‚è¿™é€šå¸¸å‘ç”Ÿåœ¨æ—¶é—´åºåˆ—ä¸­ï¼Œå…¶ä¸­ä¸€äº›æ¨¡å¼ä¸æ—¶é—´æœ‰å…³ã€‚æˆ‘ä»¬ä¹Ÿä¸ä¼šæ·±å…¥è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ£€æµ‹åˆ°ä»€ä¹ˆï¼Œè¯·å°è¯•æ·»åŠ ä¸€ä¸ªå˜é‡æ¥è§£é‡Šæ‚¨æ‰€å¾—åˆ°çš„æ•ˆæœã€‚è¿™æ˜¯ç›¸å…³è¯¯å·®æœ€å¸¸è§çš„è§£å†³æ–¹æ¡ˆã€‚</li>
</ul>
<h1 id="æ­£æ€æ£€éªŒ"><a href="#æ­£æ€æ£€éªŒ" class="headerlink" title="æ­£æ€æ£€éªŒ"></a>æ­£æ€æ£€éªŒ</h1><p>è¿™é‡Œçš„é‡ç‚¹æ˜¯ç”¨ä¸€ç§éå¸¸ç²¾ç®€çš„æ–¹å¼æµ‹è¯•â€œSalePriceâ€ã€‚æˆ‘ä»¬è¦æ³¨æ„çš„æ˜¯</p>
<ul>
<li>ç›´æ–¹å›¾ï¼Œå³°åº¦å’Œååº¦ã€‚</li>
<li>æ­£æ€æ¦‚ç‡å›¾ æ•°æ®åˆ†å¸ƒåº”ç´§è·Ÿè¡¨ç¤ºæ­£æ€åˆ†å¸ƒçš„å¯¹è§’çº¿ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç›´æ–¹å›¾ å’Œ æ­£æ€æ¦‚ç‡å›¾</span></span><br><span class="line">sns.distplot(df_train[<span class="string">'SalePrice'</span>],fit=norm)</span><br><span class="line">fig = plt.figure()</span><br><span class="line">res = stats.probplot(df_train[<span class="string">'SalePrice'</span>],plot=plt)</span><br></pre></td></tr></table></figure>
<pre><code>C:\Users\35038\Anaconda3\lib\site-packages\scipy\stats\stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
</code></pre><p><img src="/images/output_41_1.png" alt="png"></p>
<p><img src="/images/output_41_2.png" alt="png"></p>
<p>â€˜SalePriceâ€™ä¸æ­£æ€ã€‚ å®ƒæ˜¾ç¤ºâ€œå³°å€¼â€ï¼Œæ­£åæ–œå¹¶ä¸”ä¸è·Ÿéšå¯¹è§’çº¿ã€‚</p>
<p>ä½†ä¸€åˆ‡éƒ½æ²¡æœ‰ä¸¢å¤±ã€‚ ç®€å•çš„æ•°æ®è½¬æ¢å¯ä»¥è§£å†³é—®é¢˜ã€‚<br>è¿™æ˜¯ä½ å¯ä»¥åœ¨ç»Ÿè®¡ä¹¦ä¸­å­¦åˆ°çš„å¾ˆæ£’çš„ä¸œè¥¿ä¹‹ä¸€ï¼šå¦‚æœæ˜¯æ­£åæ–œï¼Œå¯¹æ•°è½¬æ¢é€šå¸¸å¾ˆæœ‰æ•ˆã€‚  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#é‡‡å–å¯¹æ•°è½¬æ¢</span></span><br><span class="line">df_train[<span class="string">'SalePrice'</span>] = np.log(df_train[<span class="string">'SalePrice'</span>])</span><br><span class="line"><span class="comment">#å†æ¬¡ç”»å›¾</span></span><br><span class="line"><span class="comment">#ç›´æ–¹å›¾ å’Œ æ­£æ€æ¦‚ç‡å›¾</span></span><br><span class="line">sns.distplot(df_train[<span class="string">'SalePrice'</span>],fit=norm)</span><br><span class="line">fig = plt.figure()</span><br><span class="line">res = stats.probplot(df_train[<span class="string">'SalePrice'</span>],plot=plt)</span><br></pre></td></tr></table></figure>
<pre><code>C:\Users\35038\Anaconda3\lib\site-packages\scipy\stats\stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
</code></pre><p><img src="/images/output_43_1.png" alt="png"></p>
<p><img src="/images/output_43_2.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¯¹â€™GrLivAreaâ€˜çš„æ£€éªŒ</span></span><br><span class="line">sns.distplot(df_train[<span class="string">'GrLivArea'</span>],fit=norm)</span><br><span class="line">fig = plt.figure()</span><br><span class="line">res = stats.probplot(df_train[<span class="string">'GrLivArea'</span>],plot=plt)</span><br></pre></td></tr></table></figure>
<pre><code>C:\Users\35038\Anaconda3\lib\site-packages\scipy\stats\stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
</code></pre><p><img src="/images/output_44_1.png" alt="png"></p>
<p><img src="/images/output_44_2.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åŒæ ·æ•°æ®è½¬æ¢ å†ç”»å›¾</span></span><br><span class="line">df_train[<span class="string">'GrLivArea'</span>] = np.log(df_train[<span class="string">'GrLivArea'</span>])</span><br><span class="line">sns.distplot(df_train[<span class="string">'GrLivArea'</span>],fit=norm)</span><br><span class="line">fig = plt.figure()</span><br><span class="line">res = stats.probplot(df_train[<span class="string">'GrLivArea'</span>],plot=plt)</span><br></pre></td></tr></table></figure>
<pre><code>C:\Users\35038\Anaconda3\lib\site-packages\scipy\stats\stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
</code></pre><p><img src="/images/output_45_1.png" alt="png"></p>
<p><img src="/images/output_45_2.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¯¹â€˜TotalBsmtSF'æ£€éªŒ</span></span><br><span class="line">sns.distplot(df_train[<span class="string">'TotalBsmtSF'</span>],fit=norm)</span><br><span class="line">fig = plt.figure()</span><br><span class="line">res = stats.probplot(df_train[<span class="string">'TotalBsmtSF'</span>],plot=plt)</span><br></pre></td></tr></table></figure>
<pre><code>C:\Users\35038\Anaconda3\lib\site-packages\scipy\stats\stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
</code></pre><p><img src="/images/output_46_1.png" alt="png"></p>
<p><img src="/images/output_46_2.png" alt="png"></p>
<ul>
<li>æ€»çš„æ¥è¯´ï¼Œå‘ˆç°åæ€çš„ä¸œè¥¿ã€‚</li>
<li>å¤§é‡è§‚æµ‹å€¼ä¸ºé›¶(æ²¡æœ‰åœ°ä¸‹å®¤çš„æˆ¿å±‹)ã€‚</li>
<li>è¿™æ˜¯ä¸ªå¤§é—®é¢˜ï¼Œå› ä¸º0å€¼ä¸å…è®¸æˆ‘ä»¬åšå¯¹æ•°å˜æ¢ã€‚<br>è¦åœ¨æ­¤å¤„åº”ç”¨å¯¹æ•°è½¬æ¢ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå¯ä»¥è·å¾—å…·æœ‰æˆ–ä¸å…·æœ‰åŸºç¡€ï¼ˆäºŒè¿›åˆ¶å˜é‡ï¼‰çš„æ•ˆæœçš„å˜é‡ã€‚ ç„¶åï¼Œæˆ‘ä»¬å°†å¯¹æ‰€æœ‰éé›¶è§‚æµ‹å€¼è¿›è¡Œå¯¹æ•°å˜æ¢ï¼Œå¿½ç•¥å€¼ä¸ºé›¶çš„è§‚æµ‹å€¼ã€‚ è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è½¬æ¢æ•°æ®ï¼Œè€Œä¸ä¼šå¤±å»æœ‰æˆ–æ²¡æœ‰åœ°ä¸‹å®¤çš„å½±å“ã€‚</li>
</ul>
<p>æˆ‘ä¸ç¡®å®šè¿™ç§æ–¹æ³•æ˜¯å¦æ­£ç¡®ã€‚ è¿™å¯¹æˆ‘æ¥è¯´ä¼¼ä¹æ˜¯å¯¹çš„ã€‚ è¿™å°±æ˜¯æˆ‘æ‰€è°“çš„â€œé«˜é£é™©å·¥ç¨‹â€</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åˆ›å»ºä¸€ä¸ªæ–°å˜é‡</span></span><br><span class="line"><span class="comment">#area&gt;0 åˆ™ä¸º1ï¼Œarea==0ï¼Œåˆ™ä¸º0</span></span><br><span class="line">df_train[<span class="string">'HasBsmt'</span>] = pd.Series(len(df_train[<span class="string">'TotalBsmtSF'</span>]),index=df_train.index)</span><br><span class="line">df_train[<span class="string">'HasBsmt'</span>] = <span class="number">0</span></span><br><span class="line">df_train.loc[df_train[<span class="string">'TotalBsmtSF'</span>]&gt;<span class="number">0</span> ,<span class="string">'HasBsmt'</span>]=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å†è½¬æ¢æ•°æ® ç”»å›¾</span></span><br><span class="line">df_train.loc[df_train[<span class="string">'HasBsmt'</span>] ==<span class="number">1</span>,<span class="string">'TotalBsmtSF'</span>] = np.log(df_train[<span class="string">'TotalBsmtSF'</span>])</span><br><span class="line">sns.distplot(df_train[df_train[<span class="string">'TotalBsmtSF'</span>] &gt;<span class="number">0</span>][<span class="string">'TotalBsmtSF'</span>] ,fit=norm)   <span class="comment">#åªç”»å¤§äº0çš„é‚£äº›æ•°æ®</span></span><br><span class="line">fig = plt.figure()</span><br><span class="line">res = stats.probplot(df_train[df_train[<span class="string">'TotalBsmtSF'</span>] &gt;<span class="number">0</span>][<span class="string">'TotalBsmtSF'</span>],plot=plt)</span><br></pre></td></tr></table></figure>
<pre><code>C:\Users\35038\Anaconda3\lib\site-packages\ipykernel_launcher.py:8: RuntimeWarning: divide by zero encountered in log

C:\Users\35038\Anaconda3\lib\site-packages\scipy\stats\stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
</code></pre><p><img src="/images/output_48_1.png" alt="png"></p>
<p><img src="/images/output_48_2.png" alt="png"></p>
<h1 id="åŒæ–¹å·®æ£€éªŒ"><a href="#åŒæ–¹å·®æ£€éªŒ" class="headerlink" title="åŒæ–¹å·®æ£€éªŒ"></a>åŒæ–¹å·®æ£€éªŒ</h1><p>æµ‹è¯•ä¸¤ä¸ªåº¦é‡å˜é‡çš„åŒæ–¹å·®çš„æœ€ä½³æ–¹æ³•æ˜¯ç”¨å›¾å½¢è¡¨ç¤ºã€‚åç¦»ç›¸åŒè‰²æ•£çš„å½¢çŠ¶æœ‰åœ†é”¥(å›¾çš„ä¸€è¾¹å°è‰²æ•£ï¼Œå¦ä¸€è¾¹å¤§è‰²æ•£)æˆ–è±å½¢(åˆ†å¸ƒä¸­å¿ƒçš„å¤§é‡ç‚¹)ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(df_train[<span class="string">'GrLivArea'</span>],df_train[<span class="string">'SalePrice'</span>])</span><br></pre></td></tr></table></figure>
<pre><code>&lt;matplotlib.collections.PathCollection at 0x1f152622c50&gt;
</code></pre><p><img src="/images/output_50_1.png" alt="png"></p>
<p>æ­¤æ•£ç‚¹å›¾çš„æ—§ç‰ˆæœ¬ï¼ˆåœ¨å¯¹æ•°è½¬æ¢ä¹‹å‰ï¼‰å…·æœ‰åœ†é”¥å½¢çŠ¶ï¼ˆè¿”å›å¹¶æ£€æŸ¥â€™SalePriceâ€™å’Œç›¸å…³å˜é‡ä¹‹é—´çš„æ•£ç‚¹å›¾ï¼ˆåƒJaggeræ ·å¼ä¸€æ ·ç§»åŠ¨ï¼‰â€™ï¼‰ã€‚<br>å¦‚æ‚¨æ‰€è§ï¼Œå½“å‰çš„æ•£ç‚¹å›¾ä¸å†å…·æœ‰åœ†é”¥å½¢çŠ¶ã€‚ è¿™æ˜¯æ­£æ€åŒ–çš„åŠ›é‡ï¼ åªæ˜¯é€šè¿‡ç¡®ä¿æŸäº›å˜é‡çš„æ­£å¸¸æ€§ï¼Œæˆ‘ä»¬è§£å†³äº†åŒæ–¹å·®æ€§é—®é¢˜</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(df_train[df_train[<span class="string">'TotalBsmtSF'</span>]&gt;<span class="number">0</span>][<span class="string">'TotalBsmtSF'</span>],df_train[df_train[<span class="string">'TotalBsmtSF'</span>]&gt;<span class="number">0</span>][<span class="string">'SalePrice'</span>])</span><br><span class="line"><span class="comment">#ä¿è¯åŒæ•°æ®</span></span><br></pre></td></tr></table></figure>
<pre><code>&lt;matplotlib.collections.PathCollection at 0x1f14c7f1f98&gt;
</code></pre><p><img src="/images/output_52_1.png" alt="png"></p>
<p>å¯ä»¥çœ‹åˆ°SalePriceâ€™åœ¨â€™TotalBsmtSF â€˜èŒƒå›´å†…æ˜¾ç¤ºå‡ºç›¸åŒæ°´å¹³çš„å·®å¼‚</p>
<h1 id="è™šæ‹Ÿå˜é‡"><a href="#è™šæ‹Ÿå˜é‡" class="headerlink" title="è™šæ‹Ÿå˜é‡"></a>è™šæ‹Ÿå˜é‡</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å°†ç±»åˆ«å˜é‡è½¬åŒ–ä¸ºè™šæ‹Ÿå˜é‡</span></span><br><span class="line">df_train = pd.get_dummies(df_train)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å•ç‹¬åˆ†æäº†â€™SalePriceâ€™å¹¶ä¸”ä½¿ç”¨æœ€ç›¸å…³çš„å˜é‡ï¼Œæˆ‘ä»¬å¤„ç†äº†ç¼ºå¤±æ•°æ®å’Œå¼‚å¸¸å€¼ï¼Œæˆ‘ä»¬æµ‹è¯•äº†ä¸€äº›åŸºæœ¬çš„ç»Ÿè®¡å‡è®¾ï¼Œæˆ‘ä»¬ç”šè‡³å°†åˆ†ç±»å˜é‡è½¬æ¢ä¸ºè™šæ‹Ÿå˜é‡ã€‚ è¿™æ˜¯Pythonå¸®åŠ©æˆ‘ä»¬è½»æ¾å®Œæˆçš„å¤§é‡å·¥ä½œã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/03/é¡¹ç›®2.è§†é¢‘ç½‘ç«™æ•°æ®/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¨å°”èŒ¨å ¡çš„æ ‘æ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DnoBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/03/é¡¹ç›®2.è§†é¢‘ç½‘ç«™æ•°æ®/" itemprop="url">é¡¹ç›®å­¦ä¹ 2.è§†é¢‘ç½‘ç«™æ•°æ®æ¸…æ´—æ•´ç†</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-12-03T12:52:00+08:00">
                2018-12-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æ•°æ®åˆ†æ/" itemprop="url" rel="index">
                    <span itemprop="name">æ•°æ®åˆ†æ</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  2,364
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  10
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">%matplotlib inline</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è¯»å–æ•°æ®</span></span><br><span class="line">data = pd.read_csv(<span class="string">r'...path\çˆ±å¥‡è‰ºè§†é¢‘æ•°æ®.csv'</span>,engine = <span class="string">'python'</span>)</span><br><span class="line"><span class="comment">#print(data.head())</span></span><br><span class="line"></span><br><span class="line"><span class="string">'''1ã€æ•°æ®æ¸…æ´— - å»é™¤ç©ºå€¼</span></span><br><span class="line"><span class="string">è¦æ±‚ï¼šåˆ›å»ºå‡½æ•°</span></span><br><span class="line"><span class="string">æç¤ºï¼šfillnaæ–¹æ³•å¡«å……ç¼ºå¤±æ•°æ®ï¼Œæ³¨æ„inplaceå‚æ•°'''</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">data_cleaning</span><span class="params">(df)</span>:</span></span><br><span class="line">    cols = df.columns</span><br><span class="line">    <span class="keyword">for</span> col <span class="keyword">in</span> cols:</span><br><span class="line">        <span class="keyword">if</span> df[col].dtype == <span class="string">'object'</span>:         <span class="comment">#æ•°æ®ç±»å‹çš„åˆ¤æ–­</span></span><br><span class="line">            df[col].fillna(<span class="string">'ç¼ºå¤±æ•°æ®'</span>,inplace=<span class="keyword">True</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            df[col].fillna(<span class="number">0</span>,inplace=<span class="keyword">True</span>)</span><br><span class="line">    <span class="keyword">return</span>(df)</span><br><span class="line">data_c = data_cleaning(data)        </span><br><span class="line">print(data_c.head(<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>       æ•°æ®è·å–æ—¥æœŸ    æ¼”å‘˜  è§†é¢‘ID                                        è¯¦ç»†é“¾æ¥  \
0  2016å¹´5æœˆ24æ—¥  ç¼ºå¤±æ•°æ®   100  http://www.iqiyi.com/dianshiju/douyu2.html   
1  2016å¹´5æœˆ24æ—¥  ç¼ºå¤±æ•°æ®  1037   http://www.iqiyi.com/dianshiju/jhuxd.html   
2  2016å¹´5æœˆ24æ—¥  ç¼ºå¤±æ•°æ®  1573  http://www.iqiyi.com/dianshiju/fmxqj2.html   

               å‰§å   çŠ¶æ€                     ç±»å‹ æ¥æºå¹³å°     æ•´ç†åå‰§å  æ›´æ–°æ—¶é—´   ...     \
0     æ–—é±¼â…¡(1-20)å…¨é›†  å·²å®Œç»“  ç²¤è¯­ç”µè§†å‰§/å¶åƒå‰§/è¨€æƒ…å‰§/è¶…æ¸…1080P  çˆ±å¥‡è‰º       æ–—é±¼2  ç¼ºå¤±æ•°æ®   ...      
1    æ±Ÿæ¹–å…„å¼Ÿ(1-32)å…¨é›†  å·²å®Œç»“  ç²¤è¯­ç”µè§†å‰§/æ‚¬ç–‘å‰§/å¹´ä»£å‰§/è¶…æ¸…1080P  çˆ±å¥‡è‰º    æ±Ÿæ¹–å…„å¼Ÿå…¨é›†  ç¼ºå¤±æ•°æ®   ...      
2  è‚¥çŒ«å¯»äº²è®°2(1-30)å…¨é›†  å·²å®Œç»“           ç²¤è¯­ç”µè§†å‰§/å®¶åº­å‰§/å–œå‰§  çˆ±å¥‡è‰º  è‚¥çŒ«å¯»äº²è®°2å…¨é›†  ç¼ºå¤±æ•°æ®   ...      

     ä¸Šæ˜ å¹´ä»½                                                 ç®€ä»‹    å¯¼æ¼”     å·®è¯„æ•°  \
0  2004.0  åœ¨å•å­æ€äº†é˜¿è±¹æ´¾å»å¼ºæš´è¯­ç‡•çš„æ‰‹ä¸‹è€Œå…¥ç‹±åï¼Œä¼—äººçš„ç”Ÿæ´»éƒ½æœ‰äº†æ”¹å˜ã€‚è¯­ç‡•ä¸ºäº†è®©è‡ªå·±ä¸å†æ˜¯äºçš“çš„åŒ…...  ç¼ºå¤±æ•°æ®  2034.0   
1  2008.0  1930å¹´ä»£ï¼Œæµ·é¾™åŸé¦–å¯Œå”è‹±æ˜ç”¨äº”æ–—ä¸Šç­‰çç ï¼Œå‡»è´¥åˆ—å›½å•†ä¸šå¯¹æ‰‹ï¼Œä¹°å¾—ä¸é“è¾¾å°¼é½åä¹‹å¥¥ä¸½å·é‚®è½®...  ç¼ºå¤±æ•°æ®  7291.0   
2  2005.0  è‚¥çŒ«ç»å†äº†å‡ ç•ªé£é›¨ï¼Œç»ˆäºå¯»å›äº†ä»–çš„äº²ç”Ÿå¼Ÿå¦¹ä»¬ï¼šå¹´è½»æœ‰ä¸ºçš„åŒ»ç”ŸäºŒå¼Ÿåä¸–æ°ã€å¤§å¾‹å¸ˆä¸‰å¦¹å©‰å®¹ã€ç¾ä¸½...  ç¼ºå¤±æ•°æ®  1183.0   

      è¯„åˆ†äººæ•°         æ’­æ”¾é‡  æ›´æ–°è‡³   æ€»é›†æ•°  ç¬¬å‡ å­£      å¥½è¯„æ•°  
0  32722.0   8069526.0  0.0  20.0    2  30688.0  
1  39492.0  70213917.0  0.0  32.0    1  32201.0  
2  10105.0   3310768.0  0.0  30.0    1   8922.0  

[3 rows x 24 columns]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''2ã€æ•°æ®æ¸…æ´— - æ—¶é—´æ ‡ç­¾è½¬åŒ–</span></span><br><span class="line"><span class="string">è¦æ±‚ï¼š</span></span><br><span class="line"><span class="string">â‘  å°†æ—¶é—´å­—æ®µæ”¹ä¸ºæ—¶é—´æ ‡ç­¾</span></span><br><span class="line"><span class="string">â‘¡ åˆ›å»ºå‡½æ•°</span></span><br><span class="line"><span class="string">æç¤ºï¼š</span></span><br><span class="line"><span class="string">éœ€è¦å°†ä¸­æ–‡æ—¥æœŸè½¬åŒ–ä¸ºéä¸­æ–‡æ—¥æœŸï¼Œä¾‹å¦‚ 2016å¹´5æœˆ24æ—¥ â†’ 2016.5.24'''</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">timechange</span><span class="params">(df,*cols)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> col <span class="keyword">in</span> cols:</span><br><span class="line">        df[col] = df[col].astype(str).str.replace(<span class="string">'å¹´'</span>,<span class="string">'.'</span>)     <span class="comment">#.astype(str).str.replace</span></span><br><span class="line">        df[col] = df[col].astype(str).str.replace(<span class="string">'æœˆ'</span>,<span class="string">'.'</span>)</span><br><span class="line">        df[col] = df[col].astype(str).str.replace(<span class="string">'æ—¥'</span>,<span class="string">''</span>)</span><br><span class="line">        df[col] = pd.to_datetime(df[col])</span><br><span class="line">    <span class="keyword">return</span>(df)</span><br><span class="line"><span class="comment"># è¯¥å‡½æ•°å°†è¾“å…¥åˆ—åçš„åˆ—ï¼Œæ”¹ä¸ºDatetimeIndexæ ¼å¼</span></span><br><span class="line"></span><br><span class="line">data_c2 = timechange(data_c,<span class="string">'æ•°æ®è·å–æ—¥æœŸ'</span>)</span><br><span class="line">print(data_c2.head(<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>      æ•°æ®è·å–æ—¥æœŸ    æ¼”å‘˜  è§†é¢‘ID                                        è¯¦ç»†é“¾æ¥  \
0 2016-05-24  ç¼ºå¤±æ•°æ®   100  http://www.iqiyi.com/dianshiju/douyu2.html   
1 2016-05-24  ç¼ºå¤±æ•°æ®  1037   http://www.iqiyi.com/dianshiju/jhuxd.html   
2 2016-05-24  ç¼ºå¤±æ•°æ®  1573  http://www.iqiyi.com/dianshiju/fmxqj2.html   

               å‰§å   çŠ¶æ€                     ç±»å‹ æ¥æºå¹³å°     æ•´ç†åå‰§å  æ›´æ–°æ—¶é—´   ...     \
0     æ–—é±¼â…¡(1-20)å…¨é›†  å·²å®Œç»“  ç²¤è¯­ç”µè§†å‰§/å¶åƒå‰§/è¨€æƒ…å‰§/è¶…æ¸…1080P  çˆ±å¥‡è‰º       æ–—é±¼2  ç¼ºå¤±æ•°æ®   ...      
1    æ±Ÿæ¹–å…„å¼Ÿ(1-32)å…¨é›†  å·²å®Œç»“  ç²¤è¯­ç”µè§†å‰§/æ‚¬ç–‘å‰§/å¹´ä»£å‰§/è¶…æ¸…1080P  çˆ±å¥‡è‰º    æ±Ÿæ¹–å…„å¼Ÿå…¨é›†  ç¼ºå¤±æ•°æ®   ...      
2  è‚¥çŒ«å¯»äº²è®°2(1-30)å…¨é›†  å·²å®Œç»“           ç²¤è¯­ç”µè§†å‰§/å®¶åº­å‰§/å–œå‰§  çˆ±å¥‡è‰º  è‚¥çŒ«å¯»äº²è®°2å…¨é›†  ç¼ºå¤±æ•°æ®   ...      

     ä¸Šæ˜ å¹´ä»½                                                 ç®€ä»‹    å¯¼æ¼”     å·®è¯„æ•°  \
0  2004.0  åœ¨å•å­æ€äº†é˜¿è±¹æ´¾å»å¼ºæš´è¯­ç‡•çš„æ‰‹ä¸‹è€Œå…¥ç‹±åï¼Œä¼—äººçš„ç”Ÿæ´»éƒ½æœ‰äº†æ”¹å˜ã€‚è¯­ç‡•ä¸ºäº†è®©è‡ªå·±ä¸å†æ˜¯äºçš“çš„åŒ…...  ç¼ºå¤±æ•°æ®  2034.0   
1  2008.0  1930å¹´ä»£ï¼Œæµ·é¾™åŸé¦–å¯Œå”è‹±æ˜ç”¨äº”æ–—ä¸Šç­‰çç ï¼Œå‡»è´¥åˆ—å›½å•†ä¸šå¯¹æ‰‹ï¼Œä¹°å¾—ä¸é“è¾¾å°¼é½åä¹‹å¥¥ä¸½å·é‚®è½®...  ç¼ºå¤±æ•°æ®  7291.0   
2  2005.0  è‚¥çŒ«ç»å†äº†å‡ ç•ªé£é›¨ï¼Œç»ˆäºå¯»å›äº†ä»–çš„äº²ç”Ÿå¼Ÿå¦¹ä»¬ï¼šå¹´è½»æœ‰ä¸ºçš„åŒ»ç”ŸäºŒå¼Ÿåä¸–æ°ã€å¤§å¾‹å¸ˆä¸‰å¦¹å©‰å®¹ã€ç¾ä¸½...  ç¼ºå¤±æ•°æ®  1183.0   

      è¯„åˆ†äººæ•°         æ’­æ”¾é‡  æ›´æ–°è‡³   æ€»é›†æ•°  ç¬¬å‡ å­£      å¥½è¯„æ•°  
0  32722.0   8069526.0  0.0  20.0    2  30688.0  
1  39492.0  70213917.0  0.0  32.0    1  32201.0  
2  10105.0   3310768.0  0.0  30.0    1   8922.0  

[3 rows x 24 columns]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''3ã€é—®é¢˜1 åˆ†æå‡ºä¸åŒå¯¼æ¼”ç”µå½±çš„å¥½è¯„ç‡ï¼Œå¹¶ç­›é€‰å‡ºTOP20</span></span><br><span class="line"><span class="string">è¦æ±‚ï¼š</span></span><br><span class="line"><span class="string">â‘  è®¡ç®—ç»Ÿè®¡å‡ºä¸åŒå¯¼æ¼”çš„å¥½è¯„ç‡ï¼Œä¸è¦æ±‚åˆ›å»ºå‡½æ•°</span></span><br><span class="line"><span class="string">â‘¡ é€šè¿‡å¤šç³»åˆ—æŸ±çŠ¶å›¾ï¼Œåšå›¾è¡¨å¯è§†åŒ–</span></span><br><span class="line"><span class="string">æç¤ºï¼š</span></span><br><span class="line"><span class="string">â‘  å¥½è¯„ç‡ = å¥½è¯„æ•° / è¯„åˆ†äººæ•°</span></span><br><span class="line"><span class="string">â‘¡ å¯è‡ªå·±è®¾å®šå›¾è¡¨é£æ ¼'''</span></span><br><span class="line"></span><br><span class="line">data_director = data_c2.groupby(<span class="string">'å¯¼æ¼”'</span>).sum()[[<span class="string">'å¥½è¯„æ•°'</span>,<span class="string">'è¯„åˆ†äººæ•°'</span>]]</span><br><span class="line">data_director[<span class="string">'å¥½è¯„ç‡'</span>] = data_director[<span class="string">'å¥½è¯„æ•°'</span>]/data_director[<span class="string">'è¯„åˆ†äººæ•°'</span>]</span><br><span class="line">result_q1 = data_director.sort_values([<span class="string">'å¥½è¯„ç‡'</span>],ascending=<span class="keyword">False</span>)[:<span class="number">20</span>]   <span class="comment">#å‰20å</span></span><br><span class="line"><span class="comment">#è®¡ç®—ç»Ÿè®¡ä¸åŒå¯¼æ¼”çš„å¥½è¯„ç‡</span></span><br><span class="line">print(result_q1)</span><br><span class="line"></span><br><span class="line">result_q1[<span class="string">'å¥½è¯„ç‡'</span>].plot(kind=<span class="string">'bar'</span>,</span><br><span class="line">                     color = <span class="string">'k'</span>,</span><br><span class="line">                     width = <span class="number">0.8</span>,</span><br><span class="line">                     alpha = <span class="number">0.4</span>,</span><br><span class="line">                     rot =<span class="number">45</span>,</span><br><span class="line">                     grid = <span class="keyword">True</span>,</span><br><span class="line">                     ylim = [<span class="number">0.98</span>,<span class="number">1</span>],</span><br><span class="line">                     figsize=(<span class="number">12</span>,<span class="number">4</span>),</span><br><span class="line">                     title = <span class="string">'ä¸åŒå¯¼æ¼”çš„ç”µå½±å¥½è¯„ç‡'</span>)</span><br></pre></td></tr></table></figure>
<pre><code>                  å¥½è¯„æ•°          è¯„åˆ†äººæ•°       å¥½è¯„ç‡
å¯¼æ¼”                                           
ç‹é™       5.601448e+06  5.602704e+06  0.999776
è§é”‹       4.415545e+07  4.416801e+07  0.999716
å‘ç¼       3.685386e+06  3.691240e+06  0.998414
ä¹Œå…°å¡”å¨œ     1.916524e+07  1.920091e+07  0.998142
å¾å®—æ”¿      3.113422e+06  3.123920e+06  0.996639
æ¬§å‡¡       3.088701e+06  3.100421e+06  0.996220
è‚–å…‰è¾‰      3.264290e+05  3.284140e+05  0.993956
å¼ å›½ç«‹/ç½—é•¿å®‰  8.177111e+06  8.230880e+06  0.993467
åˆ˜é€¢å£°/æ—å³°   3.591638e+06  3.617351e+06  0.992892
æ—æ·»ä¸€      1.049628e+09  1.057556e+09  0.992504
æ¯›å°‰å…‰      1.747925e+06  1.766237e+06  0.989632
éƒ­ä¸œæ—­      1.027664e+06  1.039609e+06  0.988510
è‹æ²…å³°/å¼ è‰ºè…¾  3.600976e+06  3.643071e+06  0.988445
è¢åˆš/æˆå¿—è¶…   1.185439e+07  1.200596e+07  0.987375
èƒ¡é›ªæ¨      1.042170e+06  1.056247e+06  0.986673
ä¸æ™“é›„      1.568219e+06  1.591727e+06  0.985231
å»¶è‰º       4.094535e+07  4.157757e+07  0.984794
æ½‡åº¸       5.338679e+06  5.427978e+06  0.983548
ç™½ç¾½/é™ˆè¿…    1.705608e+07  1.737295e+07  0.981761
å¼ è ¡/å§œå³°    2.100617e+08  2.143382e+08  0.980047





&lt;matplotlib.axes._subplots.AxesSubplot at 0x207629e5ac8&gt;
</code></pre><p><img src="/images/2_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''4ã€é—®é¢˜2 ç»Ÿè®¡åˆ†æ2001-2016å¹´æ¯å¹´è¯„å½±äººæ•°æ€»é‡</span></span><br><span class="line"><span class="string">è¦æ±‚ï¼š</span></span><br><span class="line"><span class="string">â‘  è®¡ç®—ç»Ÿè®¡å‡º2001-2016å¹´æ¯å¹´è¯„å½±äººæ•°æ€»é‡ï¼Œä¸è¦æ±‚åˆ›å»ºå‡½æ•°</span></span><br><span class="line"><span class="string">â‘¡ é€šè¿‡é¢ç§¯å›¾ï¼Œåšå›¾è¡¨å¯è§†åŒ–ï¼Œåˆ†ææ¯å¹´äººæ•°æ€»é‡å˜åŒ–è§„å¾‹</span></span><br><span class="line"><span class="string">â‘¢ éªŒè¯æ˜¯å¦æœ‰å¼‚å¸¸å€¼ï¼ˆæåº¦å¼‚å¸¸ï¼‰</span></span><br><span class="line"><span class="string">â‘£ åˆ›å»ºå‡½æ•°åˆ†æå‡ºæ•°æ®å¤–é™æœ€å¤§æœ€å°å€¼ï¼‰</span></span><br><span class="line"><span class="string">â‘¤ ç­›é€‰æŸ¥çœ‹å¼‚å¸¸å€¼ â†’ æ˜¯å¦å¼‚å¸¸å€¼å°±æ˜¯æ¯å¹´çš„çƒ­é—¨ç”µå½±ï¼Ÿ</span></span><br><span class="line"><span class="string">æç¤ºï¼š</span></span><br><span class="line"><span class="string">â‘  é€šè¿‡ç®±å‹å›¾éªŒè¯å¼‚å¸¸å€¼æƒ…å†µ</span></span><br><span class="line"><span class="string">â‘¡ é€šè¿‡quantile(q=0.5)æ–¹æ³•ï¼Œå¾—åˆ°å››åˆ†ä½æ•°</span></span><br><span class="line"><span class="string">â‘¢ IQR=Q3-Q1</span></span><br><span class="line"><span class="string">â‘£ å¤–é™ï¼šæœ€å¤§å€¼åŒºé—´Q3+3IQR,æœ€å°å€¼åŒºé—´Q1-3IQR ï¼ˆIQR=Q3-Q1ï¼‰</span></span><br><span class="line"><span class="string">â‘¤ å¯è‡ªå·±è®¾å®šå›¾è¡¨é£æ ¼'''</span></span><br><span class="line"></span><br><span class="line">data_year = data_c2[[<span class="string">'å¯¼æ¼”'</span>,<span class="string">'ä¸Šæ˜ å¹´ä»½'</span>,<span class="string">'æ•´ç†åå‰§å'</span>]].drop_duplicates()</span><br><span class="line">data_year = data_year[data_year[<span class="string">'ä¸Šæ˜ å¹´ä»½'</span>] != <span class="number">0</span> ]</span><br><span class="line"><span class="comment"># ç­›é€‰å‡ºä¸åŒå¹´ä»½çš„æ•°æ®ï¼Œå»é™¤â€˜ä¸Šæ˜ å¹´ä»½â€™å­—æ®µç¼ºå¤±æ•°æ®</span></span><br><span class="line">print(data_year.head())</span><br><span class="line"></span><br><span class="line">data_year1 = data_c2.groupby(<span class="string">'æ•´ç†åå‰§å'</span>).sum()[[<span class="string">'è¯„åˆ†äººæ•°'</span>,<span class="string">'å¥½è¯„æ•°'</span>]]</span><br><span class="line">print(data_year1.head())</span><br><span class="line"><span class="comment"># æ±‚å‡ºä¸åŒå‰§çš„è¯„åˆ†äººæ•°ã€å¥½è¯„æ•°æ€»å’Œ</span></span><br><span class="line"></span><br><span class="line">data_year2 = pd.merge(data_year,data_year1,left_on=<span class="string">'æ•´ç†åå‰§å'</span>,right_index = <span class="keyword">True</span>)</span><br><span class="line">print(data_year2.head())</span><br><span class="line"><span class="comment"># åˆå¹¶æ•°æ®ï¼Œå¾—åˆ°ä¸åŒå¹´ä»½ï¼Œä¸åŒå‰§çš„è¯„åˆ†äººæ•°ã€å¥½è¯„æ•°æ€»å’Œ</span></span><br><span class="line"></span><br><span class="line">data_year3 = data_year2.groupby(<span class="string">'ä¸Šæ˜ å¹´ä»½'</span>).sum()[[<span class="string">'è¯„åˆ†äººæ•°'</span>,<span class="string">'å¥½è¯„æ•°'</span>]]</span><br><span class="line">print(data_year3.head())</span><br><span class="line"></span><br><span class="line">figq = plt.figure(figsize=(<span class="number">12</span>,<span class="number">4</span>))</span><br><span class="line">data_year3[<span class="string">'è¯„åˆ†äººæ•°'</span>].loc[<span class="number">2000</span>:].plot.area(figsize= (<span class="number">10</span>,<span class="number">4</span>),        <span class="comment">#2000å¹´åçš„æ•°æ®</span></span><br><span class="line">                                       grid = <span class="keyword">True</span>,</span><br><span class="line">                                       color = <span class="string">'g'</span>,</span><br><span class="line">                                       alpha= <span class="number">0.8</span>)</span><br><span class="line">plt.xticks(range(<span class="number">2001</span>,<span class="number">2016</span>))</span><br><span class="line">plt.title(<span class="string">'2001-2016å¹´æ¯å¹´è¯„å½±äººæ•°æ€»é‡ç»Ÿè®¡'</span>)</span><br><span class="line"><span class="comment"># åˆ›å»ºé¢ç§¯å›¾</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¯å¹´å½±è¯„äººæ•°é€šè¿‡æ¯ä¸ªç”µå½±æ¥åˆ¤æ–­æ˜¯å¦åˆç†ï¼Ÿ</span></span><br><span class="line"><span class="comment"># å­˜åœ¨å¼‚å¸¸å€¼ï¼Œå“ªäº›æ˜¯å¼‚å¸¸å€¼ï¼Ÿ</span></span><br><span class="line">fig,axes = plt.subplots(<span class="number">4</span>,<span class="number">4</span>,figsize=(<span class="number">10</span>,<span class="number">16</span>))</span><br><span class="line">start =<span class="number">2001</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">        data = data_year2[data_year2[<span class="string">'ä¸Šæ˜ å¹´ä»½'</span>] == start]</span><br><span class="line">        data[[<span class="string">'è¯„åˆ†äººæ•°'</span>,<span class="string">'å¥½è¯„æ•°'</span>]].boxplot(whis = <span class="number">3</span>,<span class="comment"># IQRä¸º3</span></span><br><span class="line">                                    return_type=<span class="string">'dict'</span>,ax=axes[i,j])<span class="comment"># åˆ›å»ºçŸ©é˜µç®±å‹å›¾</span></span><br><span class="line">        start += <span class="number">1</span></span><br><span class="line"><span class="comment"># å‘ç°åŸºæœ¬æ¯å¹´çš„æ•°æ®ä¸­éƒ½æœ‰å¼‚å¸¸å€¼ï¼Œä¸”ä¸ºæåº¦å¼‚å¸¸</span></span><br></pre></td></tr></table></figure>
<pre><code>     å¯¼æ¼”    ä¸Šæ˜ å¹´ä»½     æ•´ç†åå‰§å
0  ç¼ºå¤±æ•°æ®  2004.0       æ–—é±¼2
1  ç¼ºå¤±æ•°æ®  2008.0    æ±Ÿæ¹–å…„å¼Ÿå…¨é›†
2  ç¼ºå¤±æ•°æ®  2005.0  è‚¥çŒ«å¯»äº²è®°2å…¨é›†
3  ç¼ºå¤±æ•°æ®  2006.0    èˆå°å§å¦¹å…¨é›†
4  ç¼ºå¤±æ•°æ®  2007.0   18ç¦ä¸ç¦å…¨é›†
                      è¯„åˆ†äººæ•°        å¥½è¯„æ•°
æ•´ç†åå‰§å                                
101ç½‘æ ¡é«˜è€ƒå†å²å†²åˆºè€ƒç‚¹è§£æ       90.0       78.0
10å“å®˜å´å±±ç¾Š            57715.0    38736.0
10å¤§å¥‡å†¤            3002099.0  2801151.0
10å¤©10å¤œ             18209.0    11299.0
10æŒ‡è¿å¿ƒ              14852.0    10617.0
     å¯¼æ¼”    ä¸Šæ˜ å¹´ä»½     æ•´ç†åå‰§å        è¯„åˆ†äººæ•°         å¥½è¯„æ•°
0  ç¼ºå¤±æ•°æ®  2004.0       æ–—é±¼2   1488378.0   1398674.0
1  ç¼ºå¤±æ•°æ®  2008.0    æ±Ÿæ¹–å…„å¼Ÿå…¨é›†   1809908.0   1477701.0
2  ç¼ºå¤±æ•°æ®  2005.0  è‚¥çŒ«å¯»äº²è®°2å…¨é›†    461860.0    407507.0
3  ç¼ºå¤±æ•°æ®  2006.0    èˆå°å§å¦¹å…¨é›†    120525.0     99885.0
4  ç¼ºå¤±æ•°æ®  2007.0   18ç¦ä¸ç¦å…¨é›†  34402833.0  31482452.0
             è¯„åˆ†äººæ•°        å¥½è¯„æ•°
ä¸Šæ˜ å¹´ä»½                        
1937.0    84367.0    63120.0
1985.0   163064.0   135462.0
1986.0    58593.0    41216.0
1987.0  3930018.0  3728651.0
1988.0   410722.0   337484.0
</code></pre><p><img src="/images/2_2.png" alt="png"></p>
<p><img src="/images/2_3.png" alt="png"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/01/é¡¹ç›®1.çŸ¥ä¹æ•°æ®æ¸…æ´—æ•´ç†å’Œç»“è®ºç ”ç©¶/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¨å°”èŒ¨å ¡çš„æ ‘æ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DnoBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/01/é¡¹ç›®1.çŸ¥ä¹æ•°æ®æ¸…æ´—æ•´ç†å’Œç»“è®ºç ”ç©¶/" itemprop="url">é¡¹ç›®å­¦ä¹ 1.çŸ¥ä¹æ•°æ®æ¸…æ´—æ•´ç†å’Œç»“è®ºç ”ç©¶</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-12-01T18:52:00+08:00">
                2018-12-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æ•°æ®åˆ†æ/" itemprop="url" rel="index">
                    <span itemprop="name">æ•°æ®åˆ†æ</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  1,398
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  7
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">% matplotlib inline</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ•°æ®è¯»å–</span></span><br><span class="line"></span><br><span class="line">data1 = pd.read_csv(<span class="string">r'...path\çŸ¥ä¹æ•°æ®_201701.csv'</span>, engine = <span class="string">'python'</span>)</span><br><span class="line">data2 = pd.read_csv(<span class="string">r'...path\å…­æ™®å¸¸ä½äººå£æ•°.csv'</span>, engine = <span class="string">'python'</span>)</span><br><span class="line">print(data1.head())</span><br><span class="line">print(data2.head())</span><br></pre></td></tr></table></figure>
<pre><code>                        _id  å…³æ³¨çš„æ”¶è—å¤¹   å…³æ³¨  å…³æ³¨è€…  å…³æ³¨çš„é—®é¢˜  å…³æ³¨çš„è¯é¢˜  å…³æ³¨çš„ä¸“æ    èŒä¸š1  \
0  587598f89f11daf90617fb7a      52   17    1     30     58      2  äº¤é€šä»“å‚¨   
1  587598f89f11daf90617fb7c      27   73   15     87     26      1  é«˜æ–°ç§‘æŠ€   
2  587598f89f11daf90617fb7e      72   94    1    112     20      4   NaN   
3  587598f89f11daf90617fb80     174   84    8    895     30      7    é‡‘è   
4  587598f89f11daf90617fb82       3  236   64    119     44     17    é‡‘è   

    èŒä¸š2    å›ç­”   æé—®    æ”¶è—       ä¸ªäººç®€ä»‹  å±…ä½åœ°  æ‰€åœ¨è¡Œä¸š                       æ•™è‚²ç»å† èŒä¸šç»å†  
0    é‚®æ”¿   0.0  0.0   3.0        NaN  NaN    é‚®æ”¿                        NaN  NaN  
1   äº’è”ç½‘  56.0  4.0  14.0        NaN   é‡åº†   äº’è”ç½‘                     é‡åº†é‚®ç”µå¤§å­¦  NaN  
2   NaN   1.0  0.0  21.0        NaN  NaN   NaN                        NaN  NaN  
3    è´¢åŠ¡   0.0  0.0  22.0        NaN  NaN    è´¢åŠ¡                        NaN  NaN  
4  è¯åˆ¸æŠ•èµ„   6.0  0.0  12.0  æ— æ±‚ å¿ƒé™ é­”ä¸ç”Ÿ   ä¸Šæµ·  è¯åˆ¸æŠ•èµ„  é›ªåŸå¤§å­¦ï¼ˆSyracuse Universityï¼‰  NaN  
     çœ   åœ°åŒº ç»“å°¾        å¸¸ä½äººå£
0  å®‰å¾½çœ  å®‰å¾½çœ  çœ  59500468.0
1  å®‰å¾½çœ  å®‰åº†å¸‚  å¸‚   5311379.0
2  å®‰å¾½çœ  èšŒåŸ å¸‚  å¸‚   3164467.0
3  å®‰å¾½çœ  äº³å·å¸‚  å¸‚   4850657.0
4  å®‰å¾½çœ  å·¢æ¹–å¸‚  å¸‚   3873102.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ•°æ®æ¸…æ´— - å»é™¤ç©ºå€¼</span></span><br><span class="line"><span class="comment">#æ–‡æœ¬å‹å­—æ®µç©ºå€¼æ”¹æˆâ€œç¼ºå¤±æ•°æ®â€ï¼Œæ•°å­—å‹å­—æ®µç©ºå€¼æ”¹ä¸º0</span></span><br><span class="line"><span class="comment">#è¦æ±‚ï¼šåˆ›å»ºå‡½æ•°</span></span><br><span class="line"><span class="comment">#æç¤ºï¼šfillnaæ–¹æ³•å¡«å……ç¼ºå¤±æ•°æ®ï¼Œæ³¨æ„inplaceå‚æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">data_cleaning</span><span class="params">(df)</span>:</span></span><br><span class="line">    cols = df.columns  <span class="comment">#è·å–åˆ—å</span></span><br><span class="line">    <span class="keyword">for</span> col <span class="keyword">in</span> cols:</span><br><span class="line">        <span class="keyword">if</span> df[col].dtype == <span class="string">'object'</span>:       <span class="comment">#æ•°æ®ç±»å‹</span></span><br><span class="line">            df[col].fillna(<span class="string">'ç¼ºå¤±æ•°æ®'</span>,inplace=<span class="keyword">True</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            df[col].fillna(<span class="number">0</span>,inplace=<span class="keyword">True</span>)</span><br><span class="line">    <span class="keyword">return</span>(df)</span><br><span class="line">data1_c = data_cleaning(data1)</span><br><span class="line">data1_c.head(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é—®é¢˜1 çŸ¥å‹å…¨å›½åœ°åŸŸåˆ†å¸ƒæƒ…å†µï¼Œåˆ†æå‡ºTOP20</span></span><br><span class="line"><span class="comment"># è¦æ±‚ï¼š</span></span><br><span class="line"><span class="comment"># â‘  æŒ‰ç…§åœ°åŸŸç»Ÿè®¡ çŸ¥å‹æ•°é‡ã€çŸ¥å‹å¯†åº¦ï¼ˆçŸ¥å‹æ•°é‡/åŸå¸‚å¸¸ä½äººå£ï¼‰ï¼Œä¸è¦æ±‚åˆ›å»ºå‡½æ•°</span></span><br><span class="line"><span class="comment"># â‘¡ çŸ¥å‹æ•°é‡ï¼ŒçŸ¥å‹å¯†åº¦ï¼Œæ ‡å‡†åŒ–å¤„ç†ï¼Œå–å€¼0-100ï¼Œè¦æ±‚åˆ›å»ºå‡½æ•°</span></span><br><span class="line"><span class="comment"># â‘¢ é€šè¿‡å¤šç³»åˆ—æŸ±çŠ¶å›¾ï¼Œåšå›¾è¡¨å¯è§†åŒ–</span></span><br><span class="line"><span class="comment"># æç¤ºï¼š</span></span><br><span class="line"><span class="comment"># â‘  æ ‡å‡†åŒ–è®¡ç®—æ–¹æ³• = (X - Xmin) / (Xmax - Xmin)</span></span><br><span class="line"><span class="comment"># â‘¡ å¯è‡ªè¡Œè®¾ç½®å›¾è¡¨é£æ ¼</span></span><br><span class="line"></span><br><span class="line">df_city = data1_c.groupby(<span class="string">'å±…ä½åœ°'</span>).count()    <span class="comment">#æŒ‰ç…§å±…ä½åœ°ç»Ÿè®¡çŸ¥å‹æ•°é‡</span></span><br><span class="line">data2[<span class="string">'city'</span>] = data2[<span class="string">'åœ°åŒº'</span>].str[:<span class="number">-1</span>]          <span class="comment">#åŸå¸‚ä¿¡æ¯æ¸…æ´—ï¼Œå»æ‰åŸå¸‚ç­‰çº§æ–‡å­—</span></span><br><span class="line"><span class="comment">#print(df_city.head())</span></span><br><span class="line"><span class="comment">#print(data2.head())</span></span><br><span class="line"></span><br><span class="line">q1data = pd.merge(df_city,data2,left_index=<span class="keyword">True</span>,right_on=<span class="string">'city'</span>,how=<span class="string">'inner'</span>)[[<span class="string">'_id'</span>,<span class="string">'city'</span>,<span class="string">'å¸¸ä½äººå£'</span>]]</span><br><span class="line"><span class="comment">#åˆå¹¶ä¸¤è¡¨ </span></span><br><span class="line"></span><br><span class="line">q1data[<span class="string">'çŸ¥å‹å¯†åº¦'</span>] = q1data[<span class="string">'_id'</span>]/q1data[<span class="string">'å¸¸ä½äººå£'</span>]</span><br><span class="line"><span class="comment"># ç»Ÿè®¡è®¡ç®—çŸ¥å‹æ•°é‡ï¼ŒçŸ¥å‹å¯†åº¦</span></span><br><span class="line"><span class="comment">#print(q1data.head())</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">data_nor</span><span class="params">(df,*cols)</span>:</span></span><br><span class="line">    colnames = []</span><br><span class="line">    <span class="keyword">for</span> col <span class="keyword">in</span> cols:</span><br><span class="line">        colname = col +<span class="string">'_nor'</span>          <span class="comment">#æ–°åˆ—åˆ—å</span></span><br><span class="line">        df[colname] = (df[col]-df[col].min())/(df[col].max()-df[col].min())*<span class="number">100</span></span><br><span class="line">        colnames.append(colname)       <span class="comment">#åˆ—åçš„åˆ—è¡¨</span></span><br><span class="line">    <span class="keyword">return</span>(df,colnames)</span><br><span class="line"><span class="comment"># åˆ›å»ºå‡½æ•°ï¼Œç»“æœè¿”å›æ ‡å‡†åŒ–å–å€¼</span></span><br><span class="line"></span><br><span class="line">resultdata = data_nor(q1data,<span class="string">'_id'</span>,<span class="string">'çŸ¥å‹å¯†åº¦'</span>)[<span class="number">0</span>]      <span class="comment">#æ–°è¡¨</span></span><br><span class="line">resultcolnames = data_nor(q1data,<span class="string">'_id'</span>,<span class="string">'çŸ¥å‹å¯†åº¦'</span>)[<span class="number">1</span>]  <span class="comment">#åˆ—åçš„åˆ—è¡¨</span></span><br><span class="line"><span class="comment">#print(resultdata)</span></span><br><span class="line"><span class="comment">#print(resultcolnames)</span></span><br><span class="line">q1data_top20_sl = resultdata.sort_values(resultcolnames[<span class="number">0</span>],ascending=<span class="keyword">False</span>)[[<span class="string">'city'</span>,resultcolnames[<span class="number">0</span>]]].iloc[:<span class="number">20</span>]</span><br><span class="line">q1data_top20_md = resultdata.sort_values(resultcolnames[<span class="number">1</span>],ascending=<span class="keyword">False</span>)[[<span class="string">'city'</span>,resultcolnames[<span class="number">1</span>]]].iloc[:<span class="number">20</span>]</span><br><span class="line"><span class="comment">#å…ˆæ’åº é€‰å­—æ®µ æŒ‰ä½ç½®ç´¢å¼•</span></span><br><span class="line"><span class="comment"># æ ‡å‡†åŒ–å–å€¼åå¾—åˆ°çŸ¥å‹æ•°é‡ï¼ŒçŸ¥å‹å¯†åº¦çš„TOP20æ•°æ®</span></span><br><span class="line">print(q1data_top20_sl)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åšå›¾</span></span><br><span class="line">fig1 = plt.figure(num=<span class="number">1</span>,figsize=(<span class="number">12</span>,<span class="number">4</span>))</span><br><span class="line">y1 = q1data_top20_sl[resultcolnames[<span class="number">0</span>]]</span><br><span class="line">plt.bar(range(<span class="number">20</span>),</span><br><span class="line">       y1,</span><br><span class="line">       width = <span class="number">0.8</span>,</span><br><span class="line">       facecolor = <span class="string">'yellowgreen'</span>,</span><br><span class="line">       edgecolor = <span class="string">'k'</span>,</span><br><span class="line">       tick_label = q1data_top20_sl[<span class="string">'city'</span>])</span><br><span class="line">plt.title(<span class="string">'çŸ¥å‹æ•°é‡TOP20\n'</span>)</span><br><span class="line">plt.grid(<span class="keyword">True</span>, linestyle = <span class="string">"--"</span>,color = <span class="string">"gray"</span>, axis = <span class="string">'y'</span>,linewidth=<span class="number">0.5</span>)  </span><br><span class="line"><span class="keyword">for</span> i,j <span class="keyword">in</span> zip(range(<span class="number">20</span>),y1):</span><br><span class="line">    plt.text(i<span class="number">-0.4</span>,<span class="number">2</span>,<span class="string">'%.1f'</span> % j,color = <span class="string">'k'</span>,fontsize = <span class="number">9</span>)</span><br><span class="line"></span><br><span class="line">fig2 = plt.figure(num=<span class="number">2</span>,figsize=(<span class="number">12</span>,<span class="number">4</span>))</span><br><span class="line">y2 = q1data_top20_md[resultcolnames[<span class="number">1</span>]]</span><br><span class="line">plt.bar(range(<span class="number">20</span>),</span><br><span class="line">        y2,</span><br><span class="line">        width = <span class="number">0.8</span>,</span><br><span class="line">        facecolor = <span class="string">'lightskyblue'</span>,</span><br><span class="line">        edgecolor = <span class="string">'k'</span>,</span><br><span class="line">        tick_label = q1data_top20_md[<span class="string">'city'</span>])</span><br><span class="line">plt.grid(<span class="keyword">True</span>, linestyle = <span class="string">"--"</span>,color = <span class="string">"gray"</span>, linewidth = <span class="number">0.5</span>, axis = <span class="string">'y'</span>)  </span><br><span class="line">plt.title(<span class="string">'çŸ¥å‹å¯†åº¦TOP20\n'</span>)</span><br><span class="line"><span class="keyword">for</span> i,j <span class="keyword">in</span> zip(range(<span class="number">20</span>),y2):</span><br><span class="line">    plt.text(i<span class="number">-0.4</span>,<span class="number">2</span>,<span class="string">'%.1f'</span> % j,color=<span class="string">'k'</span>,fontsize=<span class="number">9</span>)</span><br></pre></td></tr></table></figure>
<pre><code>    city     _id_nor
23    åŒ—äº¬  100.000000
72    å¹¿ä¸œ   94.017279
565   ä¸Šæµ·   73.779698
363   æ±Ÿè‹   47.192225
672   æµ™æ±Ÿ   41.403888
268   æ¹–åŒ—   27.105832
591   å››å·   26.673866
511   å±±ä¸œ   24.362851
556   é™•è¥¿   19.114471
26    ç¦å»º   19.028078
192   æ²³å—   15.183585
301   æ¹–å—   12.850972
675   é‡åº†   11.663067
599   å¤©æ´¥   10.755940
434   è¾½å®   10.734341
0     å®‰å¾½    9.589633
164   æ²³åŒ—    7.840173
236  é»‘é¾™æ±Ÿ    6.177106
401   æ±Ÿè¥¿    5.982721
541   å±±è¥¿    5.442765
</code></pre><p><img src="/images/1_1.png" alt="png"></p>
<p><img src="/images/1_2.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é—®é¢˜2 ä¸åŒé«˜æ ¡çŸ¥å‹å…³æ³¨å’Œè¢«å…³æ³¨æƒ…å†µ</span></span><br><span class="line"><span class="comment"># è¦æ±‚ï¼š</span></span><br><span class="line"><span class="comment"># â‘  æŒ‰ç…§å­¦æ ¡ï¼ˆæ•™è‚²ç»å†å­—æ®µï¼‰ ç»Ÿè®¡ç²‰ä¸æ•°ï¼ˆâ€˜å…³æ³¨è€…â€™ï¼‰ã€å…³æ³¨äººæ•°ï¼ˆâ€˜å…³æ³¨â€™ï¼‰ï¼Œå¹¶ç­›é€‰å‡ºç²‰ä¸æ•°TOP20çš„å­¦æ ¡ï¼Œä¸è¦æ±‚åˆ›å»ºå‡½æ•°</span></span><br><span class="line"><span class="comment"># â‘¡ é€šè¿‡æ•£ç‚¹å›¾ â†’ æ¨ªåæ ‡ä¸ºå…³æ³¨äººæ•°ï¼Œçºµåæ ‡ä¸ºç²‰ä¸æ•°ï¼Œåšå›¾è¡¨å¯è§†åŒ–</span></span><br><span class="line"><span class="comment"># â‘¢ æ•£ç‚¹å›¾ä¸­ï¼Œæ ‡è®°å‡ºå¹³å‡å…³æ³¨äººæ•°ï¼ˆxå‚è€ƒçº¿ï¼‰ï¼Œå¹³å‡ç²‰ä¸æ•°ï¼ˆyå‚è€ƒçº¿ï¼‰</span></span><br><span class="line"><span class="comment"># æç¤ºï¼š</span></span><br><span class="line"><span class="comment"># â‘  å¯è‡ªè¡Œè®¾ç½®å›¾è¡¨é£æ ¼</span></span><br><span class="line"></span><br><span class="line">q2data = data1_c.groupby(<span class="string">'æ•™è‚²ç»å†'</span>).sum()[[<span class="string">'å…³æ³¨'</span>,<span class="string">'å…³æ³¨è€…'</span>]].drop([<span class="string">'ç¼ºå¤±æ•°æ®'</span>,<span class="string">'å¤§å­¦'</span>,<span class="string">'æœ¬ç§‘'</span>])</span><br><span class="line">q2data_c = q2data.sort_values(<span class="string">'å…³æ³¨'</span>,ascending=<span class="keyword">False</span>)[:<span class="number">20</span>]</span><br><span class="line"><span class="comment">#print(q2data_c)</span></span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line">x = q2data_c[<span class="string">'å…³æ³¨'</span>]</span><br><span class="line">y = q2data_c[<span class="string">'å…³æ³¨è€…'</span>]</span><br><span class="line">follow_mean = q2data_c[<span class="string">'å…³æ³¨'</span>].mean()</span><br><span class="line">fans_mean = q2data_c[<span class="string">'å…³æ³¨è€…'</span>].mean()</span><br><span class="line">plt.scatter(x,y,marker=<span class="string">'.'</span>,</span><br><span class="line">           s = y/<span class="number">1000</span>,</span><br><span class="line">           cmap = <span class="string">'Blues'</span>,</span><br><span class="line">           alpha = <span class="number">0.6</span>,</span><br><span class="line">           label = <span class="string">'å­¦æ ¡'</span>)</span><br><span class="line"><span class="comment">#åˆ›å»ºæ•£ç‚¹å›¾</span></span><br><span class="line"></span><br><span class="line">plt.axvline(follow_mean,hold=<span class="keyword">None</span>,label=<span class="string">"å¹³å‡å…³æ³¨äººæ•°ï¼š %iäºº"</span> % follow_mean,color=<span class="string">'r'</span>,linestyle = <span class="string">"--"</span>,alpha=<span class="number">0.8</span>)</span><br><span class="line">plt.axhline(fans_mean,hold=<span class="keyword">None</span>,label=<span class="string">"å¹³å‡ç²‰ä¸æ•°ï¼š %iäºº"</span> % fans_mean,color=<span class="string">'g'</span>,linestyle = <span class="string">"--"</span>,alpha=<span class="number">0.8</span>)</span><br><span class="line">plt.legend(loc = <span class="string">'upper left'</span>)</span><br><span class="line"><span class="comment">#æ·»åŠ æ˜¾ç¤ºå†…å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i,j,n <span class="keyword">in</span> zip(x,y,q2data_c.index):</span><br><span class="line">    plt.text(i+<span class="number">500</span>,j,n,color = <span class="string">'k'</span>)</span><br><span class="line"><span class="comment">#æ·»åŠ æ³¨é‡Š</span></span><br></pre></td></tr></table></figure>
<p><img src="/images/1_3.png" alt="png"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/30/è‡ªæˆ‘åæ€/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¨å°”èŒ¨å ¡çš„æ ‘æ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DnoBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/30/è‡ªæˆ‘åæ€/" itemprop="url">è‡ªæˆ‘åæ€</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-30T16:00:00+08:00">
                2018-11-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç”Ÿæ´»ç‚¸é¸¡ğŸ¥/" itemprop="url" rel="index">
                    <span itemprop="name">ç”Ÿæ´»ç‚¸é¸¡ğŸ¥</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  179
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æƒ³å­¦æ•°æ®ç›¸å…³,å‘å‘æ´¼æ´¼å­¦ç€pythonï¼Œå´åå¤åªè·Ÿç€æ•™ç¨‹æˆ–è€…è§†é¢‘çš„æ•²æ‰“ã€‚ç¢°åˆ°é¡¹ç›®ä¹Ÿåªèƒ½æ˜¯æ¨¡ä»¿è€Œæ— æ³•è‡ªæˆ‘å®è·µã€‚å¯¹äºå¤ªå¤šä¸œè¥¿ï¼Œåªåœç•™åœ¨å­¦ä¹ å’Œæ¨¡ä»¿çš„æˆ‘ï¼Œåœ¨è¾“å‡ºè¿™ä¸€å—æ˜æ˜¾ä¸è¶³ï¼Œæ—¶é—´çš„æµé€å¸¦æ¥çš„æ˜¯ç„¦è™‘å’Œå¾’åŠ³ã€‚è„‘ç­‹ä¸å¤Ÿçµå…‰ï¼Œåœ¨åˆ«äººçœ‹æ¥çš„åŠªåŠ›å’Œå†·é™åªæ˜¯è‡ªæˆ‘å®‰æ…°å’Œåº•çº¿ã€‚</p>
<p>æƒ³è¦çš„æ–¹å‘åœ¨å“ªï¼Ÿæƒ³è¦çš„ç”Ÿæ´»æ˜¯ä»€ä¹ˆï¼Ÿ<br>æ¯æ¬¡ä»¥<strong>æ´»ä¸‹å»</strong>ä¸ºåº•çº¿ä¸æ–­é™ä½æ ‡å‡†çš„è‡ªå·±ï¼Œåˆä¸æ–­çœ‹ä¸èµ·è‡ªå·±ã€‚<br>çœ‹åˆ°ç§¯æå‘ä¸Šçš„äººç€å®ç¾¡æ…•ï¼Œè‡ªå·±å´æ¸æ¸è²Œä¼¼ä»¥å€Ÿå£æ”¾å¼ƒè‡ªæˆ‘ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar1.jpg"
                alt="è¨å°”èŒ¨å ¡çš„æ ‘æ" />
            
              <p class="site-author-name" itemprop="name">è¨å°”èŒ¨å ¡çš„æ ‘æ</p>
              <p class="site-description motion-element" itemprop="description">å¥½çš„é‡å˜å¼•èµ·è´¨å˜</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Dnotameni" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="http://weibo.com/Dnohitotsu" target="_blank" title="Weibo">
                      
                        <i class="fa fa-fw fa-weibo"></i>Weibo</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="http://douban.com/people/120827725" target="_blank" title="Douban">
                      
                        <i class="fa fa-fw fa-star"></i>Douban</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        ï»¿<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-pagelines"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">è¨å°”èŒ¨å ¡çš„æ ‘æ</span>

  
</div>



<div class="powered-by">
<i class="fa fa-heart-o"></i>
<span id="busuanzi_container_site_uv">
  æœ¬ç«™ç¬¬<span id="busuanzi_value_site_uv"></span>ä½å¤©å¤–æ¥å®¢
</span>
</div>

<div class="powered-by">
<span id="timeDate">è½½å…¥å¤©æ•°...</span><span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>

<script>
    
       var now = new Date(); 

       function createtime() {
       
        var grt= new Date("07/28/2018 17:00:00");//æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
               now.setTime(now.getTime()+250); 
               days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
       
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);  hnum = Math.floor(hours); 
       
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
       
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
      
         seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
       
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
       
        document.getElementById("timeDate").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ "+dnum+" å¤© "; 
       
        document.getElementById("times").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’"; 
     
    } 

setInterval("createtime()",250);

</script>
</div>


<!-- <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>
-->





        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  



<script type="text/javascript"
color="0,0,255" opacity='0.7' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>


</body>
</html>
